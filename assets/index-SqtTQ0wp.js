import{r as c,a as le,u as K,N as z,O as ce,B as de,R as ue,b as D,c as me}from"./vendor-react-DRCCRQIy.js";import{S as he,P as ge,W as pe,C as H,B as xe,a as Q,b as fe,A as ye,c as ve,d as je}from"./vendor-three-vTXx7EQ6.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var se={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=c,we=Symbol.for("react.element"),Ne=Symbol.for("react.fragment"),ke=Object.prototype.hasOwnProperty,Se=be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ae={key:!0,ref:!0,__self:!0,__source:!0};function te(l,s,t){var o,n={},a=null,i=null;t!==void 0&&(a=""+t),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(i=s.ref);for(o in s)ke.call(s,o)&&!Ae.hasOwnProperty(o)&&(n[o]=s[o]);if(l&&l.defaultProps)for(o in s=l.defaultProps,s)n[o]===void 0&&(n[o]=s[o]);return{$$typeof:we,type:l,key:a,ref:i,props:n,_owner:Se.current}}V.Fragment=Ne;V.jsx=te;V.jsxs=te;se.exports=V;var e=se.exports,Y={},ee=le;Y.createRoot=ee.createRoot,Y.hydrateRoot=ee.hydrateRoot;const Re={en:{appTitle:"Amharic Sign Language Translate",history:"History",api:"API",subscription:"Subscription",about:"About",settings:"Settings",signOut:"Sign Out",close:"Close",profile:"Profile",general:"General",features:"Features",security:"Security",preferences:"Preferences",save:"Save",siteName:"Site Name",maintenanceMode:"Maintenance Mode",maintenanceModeDesc:"Put the site in maintenance mode. Only admins can access.",allowRegistration:"Allow User Registration",emailNotifications:"Email Notifications",autoBackup:"Auto Backup System",addRole:"Add Role",roleName:"Role Name",roleDescription:"Description",permissions:"Permissions",createRole:"Create Role",theme:"Application Theme",darkMode:"Dark Mode",lightMode:"Light Mode",language:"Language",selectLanguage:"Select Language",copyright:"¬© 2024. All rights reserved Powered by Dev",sendFeedback:"Send feedback to Dev",startNow:"Start Now",aboutTitle:"About EthSLT",aboutHeader:"Ethiopian Sign Language to Amharic Text Translation System (EthSLT)",aboutDescription:"The Ethiopian Sign Language to Amharic Text Translation System (EthSLT) is a machine-learning-based project designed to bridge communication gaps between Deaf individuals and the wider Amharic-speaking community. The system uses computer vision and deep learning models to recognize Ethiopian Sign Language hand gestures, body movements, and patterns from video input. Once the signs are captured, the model processes them through a trained neural network to accurately classify and translate them into meaningful Amharic text.",historyTitle:"Translation History",noHistory:"No History Yet",historyDesc:"Your translation history will appear here once you start using the app.",subscriptionTitle:"Subscription",freeTier:"Free Tier",proTier:"Pro Tier",months:"/mo",currentPlan:"Current Plan",upgrade:"Upgrade",basicTrans:"Basic Translation",requests:"100 requests/day",standardSupport:"Standard Support",unlimitedTrans:"Unlimited Translation",apiAccess:"API Access",prioritySupport:"Priority Support",signLanguage:"Sign Language",text:"Text",translating:"Translating sign language...",translationPlaceholder:"Translation.......",videoRecorded:'Video recorded successfully! Click "Start Now" to translate.',startRecording:"Start Recording",stopRecording:"Stop Recording",recordFirst:"Please record a video first!",login:"Login",register:"Register",email:"Email",password:"Password",forgotPassword:"Forget password?",enterEmail:"Enter your email",enterPassword:"Enter your password",loggingIn:"Logging in...",createAccount:"Create Account",confirmPassword:"Confirm Password",enterConfirmPassword:"Confirm your password",creatingAccount:"Creating Account...",verifyEmail:"Verify Email",verificationCode:"Verification Code",verifyAndComplete:"Verify & Complete Registration",verifying:"Verifying...",resend:"Resend",resending:"Resending...",didntReceive:"Didn't receive the code?",codeSentTo:"We've sent a verification code to",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",securityVerify:"To ensure account security, we need to verify your identity.",enterOldPassword:"Please enter your current password to continue.",enterNewPassword:"Enter your new password.",enterOtp:"Enter the 6-digit code sent to",next:"Next",verifyCode:"Verify Code",updatePassword:"Update Password",updating:"Updating...",passwordChanged:"Password changed successfully",otpSent:"OTP sent successfully",emailRequired:"Email is required",validEmail:"Please enter a valid email address",passwordRequired:"Password is required",passwordLength:"Password must be at least 6 characters long",passwordMatch:"Passwords do not match",fillAllFields:"Please enter both email and password",dashboard:"Dashboard",welcomeBack:"Welcome back",totalUsers:"Total Users",translations:"Translations",activeSessions:"Active Sessions",systemHealth:"System Health",quickActions:"Quick Actions",manageUsers:"Manage Users",manageAdmin:"Manage Admin",viewReports:"View Reports",activate:"Activate",deactivate:"Deactivate",edit:"Edit",delete:"Delete",actions:"Actions",searchUsers:"Search users...",searchHint:"Showing recent users. Use search to find specific people.",viewReports:"View Reports",systemSettings:"System Settings",activityLogs:"Activity Logs",refresh:"Refresh",verificationSuccess:"Email verified successfully. Please login.",userRoleNotFound:"User role not found",failedToLoadRoles:"Failed to initialize: could not load roles",unknownUser:"Unknown User",unknownAdmin:"Unknown Admin",unknownRole:"Unknown Role",failedToLoadUsers:"Failed to load users",failedToLoadAdmins:"Failed to load admins",invalidAccountId:"Error: Invalid Account ID",failedToToggleStatus:"Failed to toggle status",userRole:"USER",adminRole:"ADMIN",roleLabel:"ROLE",confirmDelete:"Are you sure you want to delete this user?",confirmDeleteRole:"Are you sure you want to delete the role",loading:"Loading...",noUsersFound:"No users found.",noRolesFound:"No roles found.",noAdminsFound:"No admins found.",basicPermissionsDefault:"Basic permissions selected by default.",manageRoles:"Manage Roles",addNewRole:"Add New Role",updateRole:"Update Role",editRole:"Edit Role",saving:"Saving..."},am:{appTitle:"·ã®·ä†·àõ·à≠·äõ ·àù·àç·ä≠·âµ ·âã·äï·âã ·âµ·à≠·åâ·àù",history:"·â≥·à™·ä≠",api:"·ä§.·çí.·ä†·ã≠",subscription:"·ã®·ã∞·äï·â†·äù·äê·âµ ·àù·ãù·åà·â£",about:"·àµ·àà ·ä•·äõ",settings:"·âÖ·äï·â•·àÆ·âΩ",signOut:"·ãç·å£",close:"·ãù·åã",profile:"·àò·åà·àà·å´",general:"·ä†·å†·âÉ·àã·ã≠",features:"·â£·àÖ·à™·ã´·âµ",security:"·ã∞·àÖ·äï·äê·âµ",preferences:"·àù·à≠·å´·ãé·âΩ",save:"·ä†·àµ·âÄ·àù·å•",siteName:"·ã®·å£·â¢·ã´ ·àµ·àù",maintenanceMode:"·ã®·å•·åà·äì ·àÅ·äî·â≥",maintenanceModeDesc:"·å£·â¢·ã´·ãç·äï ·â†·å•·åà·äì ·àÅ·äî·â≥ ·àã·ã≠ ·ã´·ãµ·à≠·åâ·âµ·ç¢ ·ä†·àµ·â∞·ã≥·ã≥·à™·ãé·âΩ ·â•·âª ·àò·åç·â£·âµ ·ã≠·âΩ·àã·àâ·ç¢",allowRegistration:"·ã®·â∞·å†·âÉ·àö ·àù·ãù·åà·â£·äï ·ã≠·çç·âÄ·ã±",emailNotifications:"·ã®·ä¢·àú·ã≠·àç ·àõ·à≥·ãà·âÇ·ã´·ãé·âΩ",autoBackup:"·à´·àµ-·à∞·à≠ ·àù·âµ·ä¨ ·àµ·à≠·ãì·âµ",addRole:"·àö·äì ·ä†·ä≠·àç",roleName:"·ã®·àö·äì ·àµ·àù",roleDescription:"·àò·åç·àà·å´",permissions:"·çà·âÉ·ã∂·âΩ",createRole:"·àö·äì ·çç·å†·à≠",theme:"·ã®·àò·â∞·åç·â†·à™·ã´ ·åà·åΩ·â≥",darkMode:"·å®·àà·àõ ·ä®·â£·â¢",lightMode:"·â•·à≠·àÉ·äï ·ä®·â£·â¢",language:"·âã·äï·âã",selectLanguage:"·âã·äï·âã ·ã≠·àù·à®·å°",copyright:"¬© 2017 ·àò·â•·â± ·â†·àÖ·åç ·ã®·â∞·å†·â†·âÄ ·äê·ãç :: ·â† Dev Team ·ã®·â∞·åà·äê·â£",sendFeedback:"·ä†·àµ·â∞·ã´·ã®·âµ ·ã≠·àã·ä©",startNow:"·ä†·àÅ·äï ·åÄ·àù·à≠",aboutTitle:"·àµ·àà EthSLT",aboutHeader:"·ã®·ä¢·âµ·ãÆ·åµ·ã´ ·àù·àç·ä≠·âµ ·âã·äï·âã ·ãà·ã∞ ·ä†·àõ·à≠·äõ ·åΩ·àÅ·çç ·àò·â∞·à≠·åé·àö·ã´ ·àµ·à≠·ãì·âµ (EthSLT)",aboutDescription:"·ã®·ä¢·âµ·ãÆ·åµ·ã´ ·àù·àç·ä≠·âµ ·âã·äï·âã ·ãà·ã∞ ·ä†·àõ·à≠·äõ ·åΩ·àÅ·çç ·àò·â∞·à≠·åé·àö·ã´ ·àµ·à≠·ãì·âµ (EthSLT) ·àõ·àΩ·äï ·àò·àõ·à≠·äï ·àò·à∞·à®·âµ ·ã´·ã∞·à®·åà ·çï·àÆ·åÄ·ä≠·âµ ·à≤·àÜ·äï ·àò·àµ·àõ·âµ ·â†·â∞·à≥·äì·â∏·ãç ·ä•·äì ·â†·à∞·çä·ãç ·ã®·ä†·àõ·à≠·äõ ·â∞·äì·åã·à™ ·àõ·àÖ·â†·à®·à∞·â• ·àò·ä´·ä®·àç ·ã´·àà·ãç·äï ·ã®·àò·åç·â£·â¢·ã´ ·ä≠·çç·â∞·âµ ·àà·àò·ãµ·çà·äï ·â≥·àµ·â¶ ·ã®·â∞·ãò·åã·åÄ ·äê·ãç·ç¢ ·àµ·à≠·ãì·â± ·ã®·ä¢·âµ·ãÆ·åµ·ã´ ·àù·àç·ä≠·âµ ·âã·äï·âã·äï ·ã®·ä•·åÖ ·àù·àç·ä≠·â∂·âΩ·äï·ç£ ·ã®·à∞·ãç·äê·âµ ·ä•·äï·âÖ·àµ·âÉ·à¥·ãé·âΩ·äï ·ä•·äì ·âÖ·å¶·âΩ·äï ·ä®·â™·ã≤·ãÆ ·åç·â•·ãì·âµ ·àà·àò·àà·ã®·âµ ·ã®·äÆ·àù·çí·ã©·â∞·à≠·äï ·ä•·ã≠·â≥ ·ä•·äì ·å•·àç·âÖ ·ã®·àò·àõ·à™·ã´ ·àû·ã¥·àé·âΩ·äï ·ã≠·å†·âÄ·àõ·àç·ç¢ ·àù·àç·ä≠·â∂·âπ ·ä®·â∞·ã´·ãô ·â†·äã·àã·ç£ ·àû·ã¥·àâ ·â†·âµ·ä≠·ä≠·àç ·àà·àò·àò·ã∞·â• ·ä•·äì ·ãà·ã∞ ·âµ·à≠·åâ·àù ·ã´·àà·ãç ·ã®·ä†·àõ·à≠·äõ ·åΩ·àë·çç ·àà·àò·â∞·à≠·åé·àù ·â†·à∞·àà·å†·äê ·ã®·äê·à≠·â≠ ·ä†·ãç·â≥·à®·àò·à®·â• ·ä†·àõ·ä´·äù·äê·âµ ·ã´·ãò·åã·åÉ·â∏·ãã·àç·ç¢",historyTitle:"·ã®·âµ·à≠·åâ·àù ·â≥·à™·ä≠",noHistory:"·ä•·àµ·ä´·àÅ·äï ·àù·äï·àù ·â≥·à™·ä≠ ·ã®·àà·àù",historyDesc:"·ä†·çë·äï ·àò·å†·âÄ·àù ·à≤·åÄ·àù·à© ·ã®·âµ·à≠·åâ·àù ·â≥·à™·ä≠·ãé ·ä•·ãö·àÖ ·ã≠·â≥·ã´·àç·ç¢",subscriptionTitle:"·ã®·ã∞·äï·â†·äù·äê·âµ ·àù·ãù·åà·â£",freeTier:"·äê·åª ·å•·âÖ·àç",proTier:"·çï·àÆ ·å•·âÖ·àç (·ã®·àö·ä®·çà·àç·â†·âµ)",months:"/·â†·ãà·à≠",currentPlan:"·ã®·ä†·àÅ·äë ·ãï·âÖ·ãµ",upgrade:"·ä†·àª·àΩ·àç",basicTrans:"·àò·à∞·à®·â≥·ãä ·âµ·à≠·åâ·àù",requests:"100 ·å•·ã´·âÑ·ãé·âΩ/·â†·âÄ·äï",standardSupport:"·àò·ã∞·â†·äõ ·ãµ·åã·çç",unlimitedTrans:"·ã´·àç·â∞·åà·ã∞·â† ·âµ·à≠·åâ·àù",apiAccess:"·ã®·ä§.·çí.·ä†·ã≠ ·àò·ã≥·à®·àª",prioritySupport:"·âÖ·ãµ·àö·ã´ ·ã®·àö·à∞·å†·ãç ·ãµ·åã·çç",signLanguage:"·ã®·àù·àç·ä≠·âµ ·âã·äï·âã",text:"·åΩ·àë·çç",translating:"·ã®·àù·àç·ä≠·âµ ·âã·äï·âã·äï ·â†·àò·â∞·à≠·åé·àù ·àã·ã≠...",translationPlaceholder:"·âµ·à≠·åâ·àù.......",videoRecorded:'·â™·ã≤·ãÆ ·â†·â∞·à≥·ä´ ·àÅ·äî·â≥ ·â∞·âÄ·à≠·åø·àç! ·àà·àò·â∞·à≠·åé·àù "·ä†·àÅ·äï ·åÄ·àù·à≠" ·äï ·å†·âÖ ·ã´·ãµ·à≠·åâ·ç¢',startRecording:"·àò·âÖ·ã≥·âµ ·ä†·åÄ·àù·à≠",stopRecording:"·àò·âÖ·ã≥·âµ ·ä†·âÅ·àù",recordFirst:"·ä•·â£·ä≠·ãé ·àò·åÄ·àò·à™·ã´ ·â™·ã≤·ãÆ ·ã≠·âÖ·à®·åπ!",login:"·åç·â°",register:"·ã≠·àò·ãù·åà·â°",email:"·ä¢·àú·ã≠·àç",password:"·ã®·ã≠·àà·çç ·âÉ·àç",forgotPassword:"·ã®·ã≠·àà·çç ·âÉ·àç ·à®·à±?",enterEmail:"·ä¢·àú·ã≠·àç·ãé·äï ·ã´·àµ·åà·â°",enterPassword:"·ã®·ã≠·àà·çç ·âÉ·àç·ãé·äï ·ã´·àµ·åà·â°",loggingIn:"·â†·àò·åç·â£·âµ ·àã·ã≠...",createAccount:"·àò·àà·ã´ ·çç·å†·à≠",confirmPassword:"·ã®·ã≠·àà·çç ·âÉ·àç ·ä†·à®·åã·åç·å•",enterConfirmPassword:"·ã®·ã≠·àà·çç ·âÉ·àç·ãé·äï ·ã´·à®·åã·åç·å°",creatingAccount:"·àò·àà·ã´ ·â†·àò·çç·å†·à≠ ·àã·ã≠...",verifyEmail:"·ä¢·àú·ã≠·àç ·ä†·à®·åã·åç·å•",verificationCode:"·ã®·àõ·à®·åã·åà·å´ ·äÆ·ãµ",verifyAndComplete:"·ä†·à®·åã·åç·å• ·ä•·äì ·àù·ãù·åà·â£·äï ·å®·à≠·àµ",verifying:"·â†·àõ·à®·åã·åà·å• ·àã·ã≠...",resend:"·ä•·äï·ã∞·åà·äì ·àã·ä≠",resending:"·â†·àò·àã·ä≠ ·àã·ã≠...",didntReceive:"·äÆ·ã± ·ä†·àç·ã∞·à®·à∞·ãé·âµ·àù?",codeSentTo:"·ã®·àõ·à®·åã·åà·å´ ·äÆ·ãµ ·àç·ä®·äì·àç ·ãà·ã∞",changePassword:"·ã®·ã≠·àà·çç ·âÉ·àç ·âÄ·ã≠·à≠",currentPassword:"·ã´·àà·ãé·âµ (·ã®·ãµ·àÆ) ·ã®·ã≠·àà·çç ·âÉ·àç",newPassword:"·ä†·ã≤·àµ ·ã®·ã≠·àà·çç ·âÉ·àç",securityVerify:"·ã®·àò·àà·ã´·ãé·äï ·ã∞·àÖ·äï·äê·âµ ·àà·àõ·à®·åã·åà·å• ·ã®·àõ·äï·äê·âµ ·àõ·à®·åã·åà·å´ ·ã´·àµ·çà·àç·åã·àç·ç¢",enterOldPassword:"·àà·àò·âÄ·å†·àç ·ä•·â£·ä≠·ãé ·ã®·ä†·àÅ·äë·äï ·ã®·ã≠·àà·çç ·âÉ·àç·ãé·äï ·ã´·àµ·åà·â°·ç¢",enterNewPassword:"·ä†·ã≤·à±·äï ·ã®·ã≠·àà·çç ·âÉ·àç ·ã´·àµ·åà·â°·ç¢",enterOtp:"·ã®·â∞·àã·ä®·ãç·äï ·â£·àà 6 ·ä†·àÉ·ãù ·äÆ·ãµ ·ã´·àµ·åà·â°",next:"·âÄ·å£·ã≠",verifyCode:"·äÆ·ã±·äï ·ä†·à®·åã·åç·å•",updatePassword:"·ã®·ã≠·àà·çç ·âÉ·àç ·ä†·ãò·àù·äï",updating:"·â†·àõ·ãò·àò·äï ·àã·ã≠...",passwordChanged:"·ã®·ã≠·àà·çç ·âÉ·àç ·â†·â∞·à≥·ä´ ·àÅ·äî·â≥ ·â∞·âÄ·ã≠·àØ·àç",otpSent:"·ã®·ä¶·â≤·çí ·äÆ·ãµ ·â†·â∞·à≥·ä´ ·àÅ·äî·â≥ ·â∞·àç·ä≥·àç",emailRequired:"·ä¢·àú·ã≠·àç ·ã´·àµ·çà·àç·åã·àç",validEmail:"·ä•·â£·ä≠·ãé ·âµ·ä≠·ä≠·àà·äõ ·ä¢·àú·ã≠·àç ·ã´·àµ·åà·â°",passwordRequired:"·ã®·ã≠·àà·çç ·âÉ·àç ·ã´·àµ·çà·àç·åã·àç",passwordLength:"·ã®·ã≠·àà·çç ·âÉ·àç ·â¢·ã´·äï·àµ 6 ·çä·ã∞·àã·âµ ·àò·àÜ·äï ·ä†·àà·â†·âµ",passwordMatch:"·ã®·ã≠·àà·çç ·âÉ·àé·âΩ ·ä†·ã≠·ãõ·àò·ã±·àù",fillAllFields:"·ä•·â£·ä≠·ãé ·ä¢·àú·ã≠·àç ·ä•·äì ·ã®·ã≠·àà·çç ·âÉ·àç ·ã´·àµ·åà·â°",dashboard:"·ã≥·àΩ·â¶·à≠·ãµ",welcomeBack:"·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°",totalUsers:"·å†·âÖ·àã·àã ·â∞·å†·âÉ·àö·ãé·âΩ",translations:"·âµ·à≠·åâ·àû·âΩ",activeSessions:"·äï·âÅ ·ä≠·çç·àà ·åä·ãú·ãé·âΩ",systemHealth:"·ã®·àµ·à≠·ãì·âµ ·å§·äï·äê·âµ",quickActions:"·çà·å£·äï ·ä•·à≠·àù·åÉ·ãé·âΩ",manageUsers:"·â∞·å†·âÉ·àö·ãé·âΩ·äï ·ä†·àµ·â∞·ã≥·ãµ·à≠",manageAdmin:"·ä†·àµ·â∞·ã≥·ã≥·à™·äï ·ã´·âÄ·äì·â•·à©",viewReports:"·à™·çñ·à≠·â∂·âΩ·äï ·ã≠·àò·àç·ä®·â±",activate:"·ä†·åç·â•·à≠",deactivate:"·ä†·â¶·ãù·äï",edit:"·ä†·à≠·âµ·ãï",delete:"·à∞·à≠·ãù",actions:"·ä•·à≠·àù·åÉ·ãé·âΩ",searchUsers:"·â∞·å†·âÉ·àö·ãé·âΩ·äï ·ã≠·çà·àç·åâ...",searchHint:"·ã®·âÖ·à≠·â• ·åä·ãú ·â∞·å†·âÉ·àö·ãé·âΩ·äï ·â†·àõ·à≥·ã®·âµ ·àã·ã≠·ç¢ ·à∞·ãé·âΩ·äï ·àà·àõ·åç·äò·âµ ·çç·àà·åã·äï ·ã≠·å†·âÄ·àô·ç¢",viewReports:"·à™·çñ·à≠·â∂·âΩ·äï ·ã≠·àò·àç·ä®·â±",systemSettings:"·ã®·àµ·à≠·ãì·âµ ·âÖ·äï·â•·àÆ·âΩ",activityLogs:"·ã®·ä•·äï·âÖ·àµ·âÉ·à¥ ·àù·ãù·åç·â¶·âΩ",refresh:"·ä†·ãµ·àµ",verificationSuccess:"·ä¢·àú·ã≠·àç ·â†·â∞·à≥·ä´ ·àÅ·äî·â≥ ·â∞·à®·åã·åç·àØ·àç·ç¢ ·ä•·â£·ä≠·ãé ·ã≠·åç·â°·ç¢",userRoleNotFound:"·ã®·â∞·å†·âÉ·àö ·àö·äì ·ä†·àç·â∞·åà·äò·àù",failedToLoadRoles:"·àò·å´·äï ·ä†·àç·â∞·à≥·ä´·àù·ç° ·àö·äì·ãé·âΩ·äï ·àò·å´·äï ·ä†·àç·â∞·âª·àà·àù",unknownUser:"·ã´·àç·â≥·ãà·âÄ ·â∞·å†·âÉ·àö",unknownAdmin:"·ã´·àç·â≥·ãà·âÄ ·ä†·àµ·â∞·ã≥·ã≥·à™",unknownRole:"·ã´·àç·â≥·ãà·âÄ ·àö·äì",failedToLoadUsers:"·â∞·å†·âÉ·àö·ãé·âΩ·äï ·àò·å´·äï ·ä†·àç·â∞·à≥·ä´·àù",failedToLoadAdmins:"·ä†·àµ·â∞·ã≥·ã≥·à™·ãé·âΩ·äï ·àò·å´·äï ·ä†·àç·â∞·à≥·ä´·àù",invalidAccountId:"·àµ·àÖ·â∞·âµ·ç° ·ã®·â∞·à≥·à≥·â∞ ·ã®·àò·àà·ã´ ·àò·â≥·ãà·âÇ·ã´",failedToToggleStatus:"·àÅ·äî·â≥·äï ·àò·âÄ·ã®·à≠ ·ä†·àç·â∞·à≥·ä´·àù",userRole:"·â∞·å†·âÉ·àö",adminRole:"·ä†·àµ·â∞·ã≥·ã≥·à™",roleLabel:"·àö·äì",confirmDelete:"·ä•·à≠·åç·å†·äõ ·äê·ãé·âµ ·ã≠·àÖ·äï ·â∞·å†·âÉ·àö ·àò·à∞·à®·ãù ·ã≠·çà·àç·åã·àâ?",confirmDeleteRole:"·ä•·à≠·åç·å†·äõ ·äê·ãé·âµ ·ã≠·àÖ·äï ·àö·äì ·àò·à∞·à®·ãù ·ã≠·çà·àç·åã·àâ",loading:"·â†·àò·å´·äï ·àã·ã≠...",noUsersFound:"·àù·äï·àù ·â∞·å†·âÉ·àö·ãé·âΩ ·ä†·àç·â∞·åà·äô·àù·ç¢",noRolesFound:"·àù·äï·àù ·àö·äì·ãé·âΩ ·ä†·àç·â∞·åà·äô·àù·ç¢",noAdminsFound:"·àù·äï·àù ·ä†·àµ·â∞·ã≥·ã≥·à™·ãé·âΩ ·ä†·àç·â∞·åà·äô·àù·ç¢",basicPermissionsDefault:"·àò·à∞·à®·â≥·ãä ·çà·âÉ·ã∂·âΩ ·â†·äê·â£·à™ ·â∞·àò·à≠·å†·ãã·àç·ç¢",manageRoles:"·àö·äì·ãé·âΩ·äï ·ä†·àµ·â∞·ã≥·ãµ·à≠",addNewRole:"·ä†·ã≤·àµ ·àö·äì ·ä†·ä≠·àç",updateRole:"·àö·äì·äï ·ä†·ãò·àù·äï",editRole:"·àö·äì·äï ·ä†·à≠·âµ·ãï",saving:"·â†·àõ·àµ·âÄ·àò·å• ·àã·ã≠..."}},oe=c.createContext(),Ce=({children:l})=>{const[s,t]=c.useState("en");c.useEffect(()=>{const a=localStorage.getItem("appLanguage");a&&t(a)},[]);const o=a=>{t(a),localStorage.setItem("appLanguage",a)},n=a=>Re[s][a]||a;return e.jsx(oe.Provider,{value:{language:s,changeLanguage:o,t:n},children:l})},L=()=>c.useContext(oe);function Te({onClose:l,user:s,onLogout:t,onSettingsClick:o}){const{t:n}=L(),a=(i,d)=>{i.preventDefault(),o&&o(d),l()};return e.jsx("div",{className:"menu-overlay",onClick:l,children:e.jsxs("div",{className:"menu-panel",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"menu-header-row",children:[e.jsx("button",{className:"menu-close-btn",onClick:l,children:e.jsx("span",{className:"close-icon",children:"‚úï"})}),e.jsxs("div",{className:"menu-brand",children:[e.jsx("div",{className:"brand-logo",children:e.jsx("span",{className:"hand-icon",children:"‚úã"})}),e.jsx("div",{className:"brand-text",children:n("appTitle")})]})]}),e.jsxs("nav",{className:"menu-nav",children:[e.jsx("a",{href:"#history",onClick:i=>a(i,"History"),children:n("history")}),e.jsx("a",{href:"#api",onClick:i=>a(i,"Api"),children:n("api")}),e.jsx("a",{href:"#subscription",onClick:i=>a(i,"Subscription"),children:n("subscription")}),e.jsx("a",{href:"#about",onClick:i=>a(i,"About"),children:n("about")}),e.jsx("a",{href:"#settings",onClick:i=>a(i,"Settings"),children:n("settings")})]}),e.jsx("div",{className:"menu-footer",children:e.jsx("a",{href:"#",className:"sign-out-link",onClick:i=>{i.preventDefault(),t&&t(),l()},children:n("signOut")})})]})})}function ne({isLoggedIn:l,isAdmin:s,onLoginClick:t,userEmail:o,userData:n,onLogout:a,onSettingsClick:i}){const[d,v]=c.useState(!1),{t:k}=L();return e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"header-brand",children:[e.jsx("span",{className:"header-logo",children:"‚úã"}),e.jsx("h1",{className:"header-title",children:"ETHSL-LIVE"})]}),e.jsx("div",{className:"header-actions",children:(!l||!s)&&e.jsx("button",{className:"menu-button",onClick:()=>{l?v(!d):t()},children:e.jsxs("div",{className:"hamburger",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})})]}),d&&!s&&e.jsx(Te,{onClose:()=>v(!1),user:n||{email:o},onLogout:a,onSettingsClick:i})]})}function Pe({onFeedbackClick:l}){const{t:s}=L(),[t,o]=c.useState(!1),[n,a]=c.useState(!1),[i,d]=c.useState(0),[v,k]=c.useState(""),[j,x]=c.useState(null),[r,m]=c.useState(!1),R=c.useRef(null),f=c.useRef(null),b=c.useRef([]),w=c.useRef(null),S=c.useRef(null);c.useEffect(()=>(t?S.current=setInterval(()=>{d(C=>C+1)},1e3):S.current&&clearInterval(S.current),()=>{S.current&&clearInterval(S.current)}),[t]),c.useEffect(()=>()=>{T()},[]),c.useEffect(()=>{n&&R.current&&w.current&&(R.current.srcObject=w.current,R.current.play().catch(C=>console.error("Error playing video:",C)))},[n]),c.useEffect(()=>{const C=()=>{const M=window.speechSynthesis.getVoices();console.log("Available voices:",M.map(I=>`${I.name} (${I.lang})`))};C(),window.speechSynthesis.onvoiceschanged=C},[]);const y=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});w.current=C,a(!0),R.current&&(R.current.srcObject=C)}catch(C){console.error("Error accessing webcam:",C),alert("Unable to access webcam. Please grant camera permissions.")}},T=()=>{w.current&&(w.current.getTracks().forEach(C=>C.stop()),w.current=null)},u=()=>{if(!w.current)return;const C=new MediaRecorder(w.current);f.current=C,b.current=[],C.ondataavailable=M=>{M.data.size>0&&b.current.push(M.data)},C.onstop=()=>{const M=new Blob(b.current,{type:"video/webm"});x(M),k(s("videoRecorded")),T(),a(!1)},C.start(),o(!0),d(0)},N=()=>{f.current&&t&&(f.current.stop(),o(!1))},p=()=>{y()},g=()=>{j?(k(s("translating")),setTimeout(()=>{k("·ä•·äî ·ã∞·àÖ·äì ·äê·äù ·ä•·äì ·å•·à© ·ä•·ã®·à∞·à´·àÅ ·äê·ãç")},2e3)):alert(s("recordFirst"))},h=async()=>{if(!(!v||v===s("translationPlaceholder")||v===s("translating")||v===s("videoRecorded"))){console.log("Speaking Amharic text:",v),m(!0);try{const M=await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyBOti4mM-6x9WDnZIjIeyEU21OpBXqWBgw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:v},voice:{languageCode:"am-ET",name:"am-ET-Standard-A",ssmlGender:"FEMALE"},audioConfig:{audioEncoding:"MP3",pitch:0,speakingRate:.9}})});if(M.ok){const O=(await M.json()).audioContent,J=A(O,"audio/mp3"),B=URL.createObjectURL(J),_=new Audio(B);_.onplay=()=>{console.log("Playing Amharic audio with natural tone"),m(!0)},_.onended=()=>{console.log("Audio playback completed"),m(!1),URL.revokeObjectURL(B)},_.onerror=ie=>{console.error("Audio playback error:",ie),m(!1),P()},await _.play()}else throw new Error("TTS API request failed")}catch(C){console.error("Error with Google TTS:",C),m(!1),P()}}},A=(C,M)=>{const I=atob(C),O=new Array(I.length);for(let B=0;B<I.length;B++)O[B]=I.charCodeAt(B);const J=new Uint8Array(O);return new Blob([J],{type:M})},P=()=>{console.log("Falling back to Web Speech API"),window.speechSynthesis.cancel(),setTimeout(()=>{const C=new SpeechSynthesisUtterance(v),M=window.speechSynthesis.getVoices();let I=M.find(O=>O.lang.startsWith("am"));I||(I=M.find(O=>O.name.toLowerCase().includes("google")||O.name.toLowerCase().includes("microsoft"))),I?(C.voice=I,C.lang=I.lang,console.log("Using voice:",I.name)):C.lang="am-ET",C.rate=.8,C.pitch=1,C.volume=1,C.onstart=()=>{console.log("Web Speech started"),m(!0)},C.onend=()=>{console.log("Web Speech ended"),m(!1)},C.onerror=O=>{console.error("Web Speech error:",O.error),m(!1)},window.speechSynthesis.speak(C)},150)},U=C=>{const M=Math.floor(C/60),I=C%60;return`${M.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`};return e.jsxs("main",{className:"translation-area",children:[e.jsxs("div",{className:"translation-container",children:[e.jsxs("div",{className:"input-section",children:[e.jsx("h2",{children:s("signLanguage")}),e.jsx("div",{className:"upload-box",children:n?e.jsxs("div",{className:"camera-container",children:[e.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,muted:!0,className:"camera-video"}),t&&e.jsxs("div",{className:"recording-indicator",children:[e.jsx("span",{className:"recording-dot"}),e.jsx("span",{className:"recording-time",children:U(i)})]}),e.jsx("div",{className:"camera-controls",children:t?e.jsxs("button",{className:"btn-stop-inline",onClick:N,children:[e.jsx("span",{className:"stop-icon",children:"‚ñ†"})," ",s("stopRecording")]}):e.jsxs("button",{className:"btn-record-inline",onClick:u,children:[e.jsx("span",{className:"record-icon",children:"‚óè"})," ",s("startRecording")]})})]}):e.jsx("div",{className:"upload-button",onClick:p,children:e.jsx("div",{className:"plus-icon",children:"+"})})})]}),e.jsx("div",{className:"arrow-icon",children:"‚Üí"}),e.jsxs("div",{className:"output-section",children:[e.jsx("h2",{children:s("text")}),e.jsx("div",{className:"translation-box",children:e.jsxs("div",{className:"translation-content",children:[e.jsx("p",{children:v||s("translationPlaceholder")}),v&&v!==s("translationPlaceholder")&&v!==s("translating")&&v!==s("videoRecorded")&&e.jsx("button",{className:"speaker-button",onClick:h,title:"Listen to translation",children:e.jsxs("svg",{className:`speaker-icon ${r?"speaking":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),r?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),e.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]}):e.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]})})]})})]})]}),e.jsx("button",{className:"start-button",onClick:g,children:s("startNow")}),e.jsx("button",{className:"feedback-link",onClick:l,children:s("sendFeedback")})]})}const $="https://rest-api-backend-87oc.onrender.com/api/v1";class Ee{constructor(){this.authToken=null,this.interceptors=[],this.requestTimeout=1e4,this.cache=new Map,this.cacheDuration=6e4}setAuthToken(s){this.authToken=s,console.log("Auth token set:",s?"Yes":"No")}clearAuthToken(){this.authToken=null,console.log("Auth token cleared")}addInterceptor(s){this.interceptors.push(s),console.log("Interceptor added:",s.name||"anonymous")}clearInterceptors(){this.interceptors=[],console.log("All interceptors cleared")}setTimeout(s){this.requestTimeout=s,console.log("Request timeout set to:",s,"ms")}async makeRequest(s,t={},o=!1){const n=`${$}${s}`,a=`${t.method||"GET"}:${n}:${JSON.stringify(t.body||"")}`;if(o&&(t.method||"GET")==="GET"){const x=this.cache.get(a);if(x&&Date.now()-x.timestamp<this.cacheDuration)return console.log("Returning cached response for:",n),Promise.resolve(x.data)}const i=new AbortController,d=setTimeout(()=>i.abort(),t.timeout||this.requestTimeout),v={"Content-Type":"application/json",Accept:"application/json",...t.headers};this.authToken&&(v.Authorization=`Bearer ${this.authToken}`);const k={method:t.method||"GET",headers:v,mode:"cors",credentials:"omit",signal:i.signal,...t};delete k.timeout;let j=k;for(const x of this.interceptors)x.request&&(j=x.request(j,n)||j);console.log("üöÄ Making API request:",{url:n,method:j.method,headers:j.headers,body:j.body?JSON.parse(j.body):null,timestamp:new Date().toISOString()});try{const x=await fetch(n,j);clearTimeout(d),console.log("üì° API response received:",{url:n,status:x.status,statusText:x.statusText,headers:Object.fromEntries(x.headers.entries()),timestamp:new Date().toISOString()});let r=x;for(const f of this.interceptors)f.response&&(r=f.response(r,n)||r);let m;if((r.headers.get("content-type")||"").includes("application/json"))try{m=await r.json()}catch(f){console.warn("Failed to parse JSON, falling back to text:",f),m={_rawText:await r.text(),_parseError:f.message}}else{const f=await r.text();console.log("Non-JSON response received:",f.substring(0,200)),m={message:f,_isTextResponse:!0}}if(console.log("‚úÖ API response data:",m),!r.ok){const f=m.message||m.error||m.detail||`HTTP error! status: ${r.status}`,b=new Error(f);throw b.status=r.status,b.data=m,b.url=n,b}return o&&(t.method||"GET")==="GET"&&(this.cache.set(a,{data:m,timestamp:Date.now()}),console.log("Response cached for:",n)),m}catch(x){if(clearTimeout(d),console.error("üí• API request failed:",{url:n,error:x.name,message:x.message,timestamp:new Date().toISOString(),stack:x.stack}),x.name==="AbortError"){const r=new Error(`Request timeout after ${t.timeout||this.requestTimeout}ms`);throw r.name="TimeoutError",r.url=n,r}if(x.name==="TypeError"&&x.message.includes("Failed to fetch")){const r=new Error("CORS error: The server may not allow requests from this domain. Please check server CORS configuration.");throw r.name="CORSError",r.url=n,r.originalError=x,r}if(x.message&&x.message.toLowerCase().includes("cors")){const r=new Error("CORS policy blocked this request. The server needs to allow requests from this domain.");throw r.name="CORSError",r.url=n,r.originalError=x,r}throw x.url=x.url||n,x}}async makeRequestWithRetry(s,t={},o=3){let n;for(let a=1;a<=o;a++)try{return console.log(`Request attempt ${a}/${o} for: ${s}`),await this.makeRequest(s,{...t,timeout:(t.timeout||this.requestTimeout)*a})}catch(i){if(n=i,i.status&&i.status>=400&&i.status<500&&i.status!==429)throw console.log(`Client error ${i.status}, not retrying`),i;if(a<o){const d=Math.min(1e3*Math.pow(2,a-1),1e4);console.log(`Retrying in ${d}ms...`),await new Promise(v=>setTimeout(v,d))}}throw n}clearCache(){this.cache.clear(),console.log("API cache cleared")}clearCacheForEndpoint(s,t="GET"){const o=`${$}${s}`;for(const[n]of this.cache)n.startsWith(`${t}:${o}`)&&this.cache.delete(n);console.log(`Cache cleared for: ${t} ${o}`)}async register(s,t,o={}){return console.log("üîê Registering user with POST method"),this.makeRequest("/accounts/register",{method:"POST",body:JSON.stringify({email:s,password:t,...o})})}async login(s,t){console.log("üîë Logging in user with POST method");const o=await this.makeRequest("/accounts/login",{method:"POST",body:JSON.stringify({email:s,password:t})});return o.data&&o.data["jwt-token"]?this.setAuthToken(o.data["jwt-token"]):(o.token||o.access_token)&&this.setAuthToken(o.token||o.access_token),o}async logout(){return console.log("Logging out locally (session destroy only)"),this.clearAuthToken(),this.clearCache(),Promise.resolve({success:!0})}async resendOTP(s){return this.makeRequest("/accounts/resend-otp",{method:"POST",body:JSON.stringify({email:s})})}async changePassword(s,t,o,n,a){return this.makeRequest("/accounts/change-password",{method:"PATCH",body:JSON.stringify({email:s,otp:t,old_password:o,new_password:n,confirm_password:a})})}async initiatePasswordReset(s){return console.log("üìß Initiating password reset for:",s),this.makeRequest("/accounts/forgot-password",{method:"POST",body:JSON.stringify({email:s})})}async resetPassword(s,t,o){return console.log("üîê Resetting password"),this.makeRequest("/accounts/reset-password",{method:"POST",body:JSON.stringify({accountId:s,newPassword:t,token:o})})}async verifyOTP(s,t){console.log("üìß Verifying OTP with POST method");try{return console.log("üîç Using verified endpoint: /accounts/verify-email with standard format"),console.log("üîç Payload:",{email:s,otp:t}),await this.makeRequest("/accounts/verify-email",{method:"POST",body:JSON.stringify({email:s,otp:t})})}catch(o){if(o.status===400&&o.data){let n=o.data;if(typeof o.data=="string")try{n=JSON.parse(o.data)}catch{}if(n.message==="Verification is not initiated for this email."){const a=new Error("No active verification session found. Please register first or request a new OTP.");throw a.status=o.status,a.data=n,a}if(n.message){const a=new Error(n.message);throw a.status=o.status,a.data=n,a}}if(o.status===404){console.log("Primary OTP endpoint not found, trying alternatives...");const n=["/accounts/verify-otp","/accounts/verify","/accounts/confirm-otp","/accounts/validate-otp","/verify-otp"];for(const a of n)try{return console.log(`üîç Trying alternative endpoint: ${a}`),await this.makeRequest(a,{method:"POST",body:JSON.stringify({email:s,otp:t})})}catch{continue}throw new Error("OTP verification failed. No valid endpoint found.")}throw o}}decodeJWT(s){try{const t=s.split(".");if(t.length!==3)throw new Error("Invalid JWT format");const o=t[1],n=o+"=".repeat((4-o.length%4)%4),a=atob(n),i=JSON.parse(a);return console.log("üîì Decoded JWT payload:",i),i}catch(t){return console.error("‚ùå Failed to decode JWT:",t),null}}getCurrentUser(){return this.authToken?this.decodeJWT(this.authToken):null}async updateProfile(s){const t=await this.makeRequest("/accounts/profile",{method:"PUT",body:JSON.stringify(s)});return this.clearCacheForEndpoint("/accounts/profile"),t}async getAdminAnalytics(){console.log("üìä Fetching admin analytics");try{return await this.makeRequest("/analytics",{method:"GET"})}catch(s){throw console.warn("Analytics endpoint failed:",s),s}}async getUserCount(){console.log("üë• Fetching user count");try{return await this.makeRequest("/admin/users/count",{method:"GET"})}catch{return console.warn("User count endpoint not available"),{count:1247}}}async getTranslationCount(){console.log("üî§ Fetching translation count");try{return await this.makeRequest("/admin/translations/count",{method:"GET"})}catch{return console.warn("Translation count endpoint not available"),{count:8934}}}async getRecentActivity(){console.log("üìã Fetching recent activity");try{return await this.makeRequest("/admin/activity/recent",{method:"GET"})}catch{return console.warn("Recent activity endpoint not available"),[]}}async getRoles(){return console.log("üõ°Ô∏è Fetching roles"),this.makeRequest("/roles",{method:"GET"})}async createRole(s){return console.log("üõ°Ô∏è Creating role:",s),this.makeRequest("/roles",{method:"POST",body:JSON.stringify(s)})}async updateRole(s){return console.log("üõ°Ô∏è Updating role:",s),this.makeRequest("/roles",{method:"PATCH",body:JSON.stringify(s)})}async deleteRole(s){return console.log("üõ°Ô∏è Deleting role:",s),this.makeRequest("/roles",{method:"DELETE",body:JSON.stringify({id:s})})}async getAccounts(s=10,t,o=1){return console.log(`üë• Fetching accounts: limit=${s}, role=${t}, page=${o}`),this.makeRequest(`/accounts-infos/${s}?role_id=${t}&p=${o}`,{method:"GET"})}async toggleAccountStatus(s){return console.log(`üîÑ Toggling status for account: ${s}`),this.makeRequest(`/accounts/toggle-status/${s}`,{method:"PATCH"})}async testCORS(){console.log("üåê Testing CORS configuration...");try{const s=await fetch(`${$}/accounts/register`,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:"cors-test@example.com",password:"test123"})});return console.log("CORS test response:",{status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries())}),{success:!0,status:s.status,message:`CORS is working. Server responded with ${s.status}`}}catch(s){return console.error("CORS test failed:",s),s.name==="TypeError"&&s.message.includes("Failed to fetch")?{success:!1,error:"CORS_BLOCKED",message:"CORS is blocking the request. The server needs to allow requests from this domain."}:{success:!1,error:s.name,message:s.message}}}async testConnection(){const s=["/accounts/register","/health","/","/status","/ping"];console.log("üîç Testing API connection to:",$),console.log("üîç Development mode:","Direct connection");for(const t of s)try{console.log(`Testing API connection at: ${t}`);const o=new AbortController,n=setTimeout(()=>o.abort(),1e4),a=t==="/accounts/register"?"OPTIONS":"GET",i=await fetch(`${$}${t}`,{method:a,mode:"cors",credentials:"omit",signal:o.signal,headers:{Accept:"application/json, text/plain, */*","Cache-Control":"no-cache"}});if(clearTimeout(n),console.log(`API ${t} response:`,{status:i.status,statusText:i.statusText,headers:Object.fromEntries(i.headers.entries())}),i.status<500)return console.log(`‚úÖ API is accessible via: ${t} (${i.status})`),{success:!0,endpoint:t,status:i.status}}catch(o){console.log(`Endpoint ${t} failed:`,{name:o.name,message:o.message});continue}return console.error("‚ùå All API health checks failed"),{success:!1,error:"All endpoints failed"}}async batchRequests(s){return Promise.all(s.map(t=>this.makeRequest(t.endpoint,t.options)))}}const Me={name:"loggingInterceptor",request:(l,s)=>(console.log(`[Interceptor] Request to: ${s}`),l),response:(l,s)=>(console.log(`[Interceptor] Response from: ${s} - Status: ${l.status}`),l)},E=new Ee;E.addInterceptor(Me);class F{constructor(s={}){this.email=s.email||"",this.role=s.role||(s.isAdmin?"admin":"user"),this.isAdmin=this.role!=="user",this.sub=s.sub||null,this.data=s}static fromToken(s){return s?new F(s):null}static fromResponse(s){return s?new F(s):null}}const ae=c.createContext(null),Le=({children:l})=>{const[s,t]=c.useState(!1),[o,n]=c.useState(null),[a,i]=c.useState(!0);c.useEffect(()=>{d()},[]);const d=()=>{try{const f=localStorage.getItem("authToken");if(f){E.setAuthToken(f);const b=E.decodeJWT(f);let w=null;try{w=JSON.parse(localStorage.getItem("userData"))}catch(y){console.error("Error parsing saved user data",y)}const S={...b,...w};if(b||w){const y=new F(S);n(y),t(!0)}}}catch(f){console.error("Auth initialization error",f)}finally{i(!1)}},v=async(f,b)=>{var w,S,y,T,u;try{console.log("=== AuthContext.login() called ==="),console.log("Email:",f);const N=await E.login(f,b);console.log("=== API Response received ==="),console.log("Full response:",N),console.log("Response keys:",Object.keys(N));let p=null,g=null;N.token||N.access_token||(w=N.data)!=null&&w.token||(S=N.data)!=null&&S["jwt-token"]?(p=N.token||N.access_token||((y=N.data)==null?void 0:y.token)||((T=N.data)==null?void 0:T["jwt-token"]),console.log("Token found in response:",p?"YES":"NO"),console.log("Token length:",p==null?void 0:p.length),localStorage.setItem("authToken",p),E.setAuthToken(p)):console.warn("‚ö†Ô∏è No token found in response!");const h=p?E.decodeJWT(p):null;console.log("Decoded user from token:",h),N.user?(g={...h,...N.user},console.log("User found in response.user")):(u=N.data)!=null&&u.user?(g={...h,...N.data.user},console.log("User found in response.data.user")):(g={...h,email:(h==null?void 0:h.email)||f},console.log("Using decoded token as user (fallback)")),console.log("Raw user data:",g),g&&!g.email&&g.sub&&g.sub.includes("@")&&(g.email=g.sub,console.log("Email extracted from sub:",g.email)),g.email||(g.email=f),localStorage.setItem("userData",JSON.stringify(g));const A=new F(g);return console.log("=== User Model Created ==="),console.log("User model:",A),console.log("Role:",A.role),console.log("Is Admin:",A.isAdmin),n(A),t(!0),A}catch(N){throw console.error("=== AuthContext.login() ERROR ==="),console.error("Error:",N),console.error("Error status:",N.status),console.error("Error data:",N.data),N}},k=(f,b)=>{if(b&&(localStorage.setItem("authToken",b),E.setAuthToken(b)),f){!f.email&&f.sub&&f.sub.includes("@")&&(f.email=f.sub),localStorage.setItem("userData",JSON.stringify(f));const w=new F(f);return n(w),t(!0),w}return null},j=async(f,b)=>E.register(f,b),x=async(f,b)=>{try{const w=await E.verifyOTP(f,b);if(w.token||w.access_token){const y=w.token||w.access_token;localStorage.setItem("authToken",y),E.setAuthToken(y)}let S=null;if(w.user?(S=w.user,S.email||(S.email=f)):(S=E.getCurrentUser(),S&&!S.email&&(S.email=f)),S){localStorage.setItem("userData",JSON.stringify(S));const y=new F(S);return n(y),t(!0),y}return null}catch(w){throw console.error("Verify OTP failed:",w),w}},r=async()=>{try{await E.logout()}catch{console.warn("Logout api failed, clearing local state anyway")}localStorage.removeItem("authToken"),localStorage.removeItem("userData"),E.setAuthToken(null),t(!1),n(null)},m=f=>{n(b=>new F({...b,...f}))},R=c.useMemo(()=>({isLoggedIn:s,user:o,loading:a,login:v,logout:r,register:j,verifyOTP:x,updateUser:m,setAuthData:k}),[s,o,a]);return e.jsx(ae.Provider,{value:R,children:l})},q=()=>{const l=c.useContext(ae);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l},re=c.createContext(null),Ie=({children:l})=>{const[s,t]=c.useState(!1),[o,n]=c.useState(null),a=()=>t(!0),i=k=>{n(k)},d=()=>{t(!1),n(null)},v=c.useMemo(()=>({state:{showFeedbackModal:s,activeModal:o},actions:{openFeedback:a,openModal:i,closeAll:d,setShowFeedbackModal:t,setActiveModal:n}}),[s,o]);return e.jsx(re.Provider,{value:v,children:l})},X=()=>{const l=c.useContext(re);if(!l)throw new Error("useModal must be used within a ModalProvider");return l};function Oe(){const{isLoggedIn:l,user:s,logout:t}=q(),{actions:o}=X(),n=K(),a=(s==null?void 0:s.isAdmin)||(s==null?void 0:s.role)==="admin"||!1,i=(s==null?void 0:s.email)||"";return e.jsxs("div",{className:"home-page",children:[e.jsx(ne,{isLoggedIn:l,isAdmin:a,userEmail:i,userData:s,onLoginClick:()=>n("/login"),onLogout:t,onSettingsClick:d=>{o.setActiveModal(d)}}),e.jsx(Pe,{isLoggedIn:l,onFeedbackClick:o.openFeedback})]})}function G({title:l,value:s,icon:t,trend:o,trendValue:n,color:a="primary",loading:i=!1}){const[d,v]=c.useState(0);return c.useEffect(()=>{if(i||!s)return;const k=1e3,j=60,x=s/j;let r=0;const m=setInterval(()=>{r+=x,r>=s?(v(s),clearInterval(m)):v(Math.floor(r))},k/j);return()=>clearInterval(m)},[s,i]),e.jsxs("div",{className:`analytics-card analytics-card-${a}`,children:[e.jsxs("div",{className:"analytics-card-header",children:[e.jsx("div",{className:"analytics-card-icon-wrapper",children:e.jsx("span",{className:"analytics-card-icon",children:t})}),o&&e.jsxs("div",{className:`analytics-card-trend trend-${o}`,children:[e.jsx("span",{className:"trend-arrow",children:o==="up"?"‚Üë":"‚Üì"}),e.jsxs("span",{className:"trend-value",children:[n,"%"]})]})]}),e.jsxs("div",{className:"analytics-card-body",children:[e.jsx("h3",{className:"analytics-card-title",children:l}),e.jsx("div",{className:"analytics-card-value",children:i?e.jsx("div",{className:"analytics-card-skeleton"}):e.jsx("span",{children:d.toLocaleString()})})]})]})}function Ue(){const{isLoggedIn:l,user:s,logout:t}=q(),{actions:o}=X(),{t:n}=L(),a=K(),[i,d]=c.useState({totalUsers:0,totalTranslations:0,activeSessions:0,systemHealth:0}),[v,k]=c.useState(!0),j=(s==null?void 0:s.isAdmin)||(s==null?void 0:s.role)==="admin"||!1,x=(s==null?void 0:s.email)||"";return c.useEffect(()=>{(async()=>{k(!0);try{const m=await E.getAdminAnalytics();d({totalUsers:m.totalUsers||0,totalTranslations:m.totalTranslations||0,activeSessions:m.activeSessions||0,systemHealth:m.systemHealth||100})}catch(m){console.error("Failed to fetch analytics:",m)}finally{k(!1)}})()},[]),e.jsxs("div",{className:"admin-page",children:[e.jsx(ne,{isLoggedIn:l,isAdmin:j,userEmail:x,userData:s,onLoginClick:()=>a("/login"),onLogout:t,onSettingsClick:r=>{o.setActiveModal(r)}}),e.jsxs("div",{className:"admin-container",children:[e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-content",children:[e.jsx("h1",{className:"admin-title",children:n("dashboard")}),e.jsxs("p",{className:"admin-subtitle",children:[n("welcomeBack"),", ",x.split("@")[0],"! üëã"]})]}),e.jsxs("div",{className:"admin-header-actions",children:[e.jsxs("button",{className:"admin-btn admin-btn-secondary",onClick:()=>window.location.reload(),children:[e.jsx("span",{children:"üîÑ"})," ",n("refresh")]}),e.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:()=>o.openModal("AdminSettings"),children:[e.jsx("span",{children:"‚öôÔ∏è"})," ",n("settings")]})]})]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsx(G,{title:n("totalUsers"),value:i.totalUsers,icon:"üë•",trend:"up",trendValue:12,color:"primary",loading:v}),e.jsx(G,{title:n("translations"),value:i.totalTranslations,icon:"üî§",trend:"up",trendValue:8,color:"success",loading:v}),e.jsx(G,{title:n("activeSessions"),value:i.activeSessions,icon:"‚ö°",trend:"down",trendValue:3,color:"warning",loading:v})]}),e.jsx("div",{className:"admin-sections",children:e.jsxs("div",{className:"admin-section admin-section-full",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{className:"section-title",children:n("quickActions")})}),e.jsxs("div",{className:"quick-actions",children:[e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("ManageRoles"),children:[e.jsx("span",{className:"quick-action-icon",children:"üîë"}),e.jsx("span",{className:"quick-action-text",children:n("manageRoles")||"Manage Roles"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("ManageUsers"),children:[e.jsx("span",{className:"quick-action-icon",children:"üë•"}),e.jsx("span",{className:"quick-action-text",children:n("manageUsers")})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("ManageAdmin"),children:[e.jsx("span",{className:"quick-action-icon",children:"üõ°Ô∏è"}),e.jsx("span",{className:"quick-action-text",children:n("manageAdmin")})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("ViewReports"),children:[e.jsx("span",{className:"quick-action-icon",children:"üìä"}),e.jsx("span",{className:"quick-action-text",children:n("viewReports")})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("AdminSettings"),children:[e.jsx("span",{className:"quick-action-icon",children:"‚öôÔ∏è"}),e.jsx("span",{className:"quick-action-text",children:n("systemSettings")})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>o.openModal("ActivityLogs"),children:[e.jsx("span",{className:"quick-action-icon",children:"üìù"}),e.jsx("span",{className:"quick-action-text",children:n("activityLogs")})]})]})]})})]})]})}const Fe=({requiredRole:l,redirectPath:s="/login"})=>{const{isLoggedIn:t,user:o,loading:n}=q();return n?e.jsx("div",{children:"Loading..."}):t?l&&(o==null?void 0:o.role)!==l&&!(o!=null&&o.isAdmin)?e.jsx(z,{to:"/",replace:!0}):e.jsx(ce,{}):e.jsx(z,{to:s,replace:!0})};function qe({onClose:l,onLogin:s,onRegisterClick:t,onForgotPasswordClick:o}){const{t:n}=L(),a=q(),[i,d]=c.useState(""),[v,k]=c.useState(""),[j,x]=c.useState(""),[r,m]=c.useState(!1),[R,f]=c.useState(!1),b=async S=>{var y,T;if(S.preventDefault(),!i||!v){x(n("fillAllFields"));return}m(!0),x("");try{console.log("=== LOGIN ATTEMPT STARTED ==="),console.log("Attempting login with:",{email:i,password:"***"});const u=await a.login(i,v);console.log("=== LOGIN SUCCESSFUL ==="),console.log("User object:",u),console.log("User role:",u==null?void 0:u.role),console.log("User email:",u==null?void 0:u.email),console.log("Is admin:",u==null?void 0:u.isAdmin),s&&s(i,v,{user:u})}catch(u){console.error("=== LOGIN FAILED ==="),console.error("Error object:",u),console.error("Error status:",u.status),console.error("Error message:",u.message),console.error("Error data:",u.data),console.error("Full error:",JSON.stringify(u,Object.getOwnPropertyNames(u),2));let N=u.message||n("login")+" failed";u.status===400?(N=((y=u.data)==null?void 0:y.message)||u.message||n("fillAllFields"),console.log("400 Error - Bad Request:",N)):u.status===401?(N=((T=u.data)==null?void 0:T.message)||"Invalid email or password",console.log("401 Error - Unauthorized:",N)):console.log("Other error status:",u.status,N),x(N)}finally{m(!1)}},w=(S,y)=>{j&&x(""),S==="email"&&d(y),S==="password"&&k(y)};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:l,children:"‚úï"}),e.jsx("h2",{className:"modal-title",children:n("login")}),j&&e.jsx("div",{className:"error-message",style:{textAlign:"center",marginBottom:"20px"},children:j}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:n("email")}),e.jsx("input",{type:"email",value:i,onChange:S=>w("email",S.target.value),placeholder:n("enterEmail"),className:j?"error":"",disabled:r,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:n("password")}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:R?"text":"password",value:v,onChange:S=>w("password",S.target.value),placeholder:n("enterPassword"),className:j?"error":"",disabled:r,required:!0}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>f(!R),tabIndex:"-1",children:R?e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]})]}),e.jsx("a",{href:"#",className:"forgot-password",children:n("forgotPassword")}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:r,children:n(r?"loggingIn":"login")}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:r,children:n("register")})]})]})]})})}function Be({onClose:l,onRegister:s}){const{t}=L(),o=q(),[n,a]=c.useState(""),[i,d]=c.useState(""),[v,k]=c.useState(""),[j,x]=c.useState({}),[r,m]=c.useState(!1),[R,f]=c.useState(!1),[b,w]=c.useState(!1),S=()=>{const u={};return n?/\S+@\S+\.\S+/.test(n)||(u.email=t("validEmail")):u.email=t("emailRequired"),i?i.length<6&&(u.password=t("passwordLength")):u.password=t("passwordRequired"),v?i!==v&&(u.confirmPassword=t("passwordMatch")):u.confirmPassword=t("enterConfirmPassword"),x(u),Object.keys(u).length===0},y=async u=>{var N,p;if(u.preventDefault(),!!S()){m(!0),x({});try{console.log("Attempting registration with:",{email:n,password:"***"});const g=await o.register(n,i);console.log("Registration successful:",g),s&&s(n,i,g)}catch(g){console.error("Registration failed:",g);let h=((N=g.data)==null?void 0:N.message)||g.message||"Registration failed";g.status===400&&!((p=g.data)!=null&&p.message)&&(h=t("fillAllFields")),x({general:h})}finally{m(!1)}}},T=(u,N)=>{(j[u]||j.general)&&x(p=>({...p,[u]:"",general:""})),u==="email"&&a(N),u==="password"&&d(N),u==="confirmPassword"&&k(N)};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:l,children:"‚úï"}),e.jsx("h2",{className:"modal-title signup-title",children:t("createAccount")}),j.general&&e.jsx("div",{className:"error-message",style:{textAlign:"center",marginBottom:"20px"},children:j.general}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("email")}),e.jsx("input",{type:"email",value:n,onChange:u=>T("email",u.target.value),placeholder:t("enterEmail"),className:j.email?"error":"",disabled:r}),j.email&&e.jsx("span",{className:"error-message",children:j.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("password")}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:R?"text":"password",value:i,onChange:u=>T("password",u.target.value),placeholder:t("enterPassword"),className:j.password?"error":"",disabled:r}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>f(!R),tabIndex:"-1",children:R?e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),j.password&&e.jsx("span",{className:"error-message",children:j.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("confirmPassword")}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:b?"text":"password",value:v,onChange:u=>T("confirmPassword",u.target.value),placeholder:t("enterConfirmPassword"),className:j.confirmPassword?"error":"",disabled:r}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>w(!b),tabIndex:"-1",children:b?e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),j.confirmPassword&&e.jsx("span",{className:"error-message",children:j.confirmPassword})]}),e.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:r,style:{marginBottom:"10px"},children:t(r?"creatingAccount":"register")})]})]})})}function De({onClose:l,onVerify:s,email:t}){const{t:o}=L(),n=q(),[a,i]=c.useState(["","","","","",""]),[d,v]=c.useState(""),[k,j]=c.useState(!1),[x,r]=c.useState(!1),m=(b,w)=>{var S;if(w.length<=1){const y=[...a];y[b]=w,i(y),d&&v(""),w&&b<5&&((S=document.getElementById(`code-${b+1}`))==null||S.focus())}},R=async b=>{var S;b.preventDefault();const w=a.join("");if(w.length!==6){v(o("otpRequired")||"Enter 6-digit code");return}if(!/^\d{6}$/.test(w)){v(o("otpInvalid")||"Digital code only");return}j(!0),v("");try{console.log("Attempting OTP verification with:",{email:t,otp:w});const y=await n.verifyOTP(t,w);console.log("OTP verification successful:",y),s&&s(w,{user:y})}catch(y){console.error("OTP verification failed:",y);const T=((S=y.data)==null?void 0:S.message)||y.message||"Verification failed";v(T)}finally{j(!1)}},f=async()=>{var b;r(!0),v("");try{console.log("Resending OTP to:",t),await E.resendOTP(t),i(["","","","","",""]),(b=document.getElementById("code-0"))==null||b.focus(),console.log("OTP resent")}catch(w){console.error("Failed to resend OTP:",w),v(w.message||"Failed to resend")}finally{r(!1)}};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:l,children:"‚úï"}),e.jsx("h2",{className:"modal-title signup-title",children:o("verifyEmail")}),e.jsxs("p",{style:{textAlign:"center",marginBottom:"20px",color:"var(--text-secondary)"},children:[o("codeSentTo"),e.jsx("br",{}),e.jsx("strong",{children:t})]}),e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("verificationCode")}),e.jsx("div",{className:"verification-code",children:a.map((b,w)=>e.jsx("input",{id:`code-${w}`,type:"text",maxLength:"1",value:b,onChange:S=>m(w,S.target.value),className:`code-input ${d?"error":""}`,disabled:k},w))}),d&&e.jsx("span",{className:"error-message",children:d})]}),e.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:k,children:o(k?"verifying":"verifyAndComplete")}),e.jsxs("p",{style:{textAlign:"center",marginTop:"15px",fontSize:"14px",color:"var(--text-secondary)"},children:[o("didntReceive"),e.jsx("button",{type:"button",onClick:f,disabled:x||k,style:{background:"none",border:"none",color:"var(--primary-color)",cursor:x||k?"not-allowed":"pointer",textDecoration:"underline",marginLeft:"5px",opacity:x||k?.6:1},children:o(x?"resending":"resend")})]})]})]})})}function $e({onClose:l,onSubmit:s}){const[t,o]=c.useState(""),[n,a]=c.useState(0),i=d=>{d.preventDefault(),s(t,n)};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content feedback-modal",onClick:d=>d.stopPropagation(),children:[e.jsx("h2",{className:"modal-title",children:"Send feedback to Dev"}),e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Describe your feedback (required)"}),e.jsx("textarea",{value:t,onChange:d=>o(d.target.value),placeholder:"",rows:"6",required:!0}),e.jsx("small",{className:"form-hint",children:"Please don't include any sensitive information"})]}),e.jsx("div",{className:"rating-group",children:[1,2,3,4,5].map(d=>e.jsx("span",{className:`star ${n>=d?"active":""}`,onClick:()=>a(d),children:"‚òÖ"},d))}),e.jsx("button",{type:"submit",className:"btn-primary btn-full",children:"Send"})]})]})})}const W=({title:l,onClose:s,children:t})=>e.jsx("div",{className:"base-modal-overlay",onClick:s,children:e.jsxs("div",{className:"base-modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"base-modal-header",children:[e.jsx("div",{className:"base-modal-title",children:l}),e.jsx("button",{className:"base-modal-close",onClick:s,children:"‚úï"})]}),e.jsx("div",{className:"base-modal-body",children:t})]})});function Z(){const[l,s]=c.useState(!1);c.useEffect(()=>{localStorage.getItem("theme")==="dark"&&(s(!0),document.documentElement.setAttribute("data-theme","dark"))},[]);const t=()=>{const o=!l;s(o),o?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme","light"))};return e.jsx("button",{className:"theme-toggle",onClick:t,title:"Toggle theme",children:e.jsx("svg",{className:"theme-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("circle",{cx:"12",cy:"12",r:"5"}),e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),e.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),e.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),e.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),e.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):e.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}function ze({onClose:l,userData:s,activeTab:t,onChangePassword:o}){const{t:n,language:a,changeLanguage:i}=L(),[d,v]=c.useState(t||"Profile"),[k,j]=c.useState((s==null?void 0:s.name)||""),[x]=c.useState((s==null?void 0:s.email)||""),r=m=>{v(m)};return e.jsx(W,{title:n("settings"),onClose:l,children:e.jsxs("div",{style:{display:"flex",gap:"20px",height:"100%"},children:[e.jsx("div",{style:{width:"150px",borderRight:"1px solid var(--border-color)",paddingRight:"10px"},children:["Profile","General"].map(m=>e.jsx("button",{onClick:()=>r(m),style:{display:"block",width:"100%",textAlign:"left",padding:"10px",background:d===m?"var(--shadow-color)":"transparent",border:"none",color:d===m?"var(--primary-color)":"var(--text-secondary)",cursor:"pointer",borderRadius:"4px",marginBottom:"5px"},children:n(m.toLowerCase())},m))}),e.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[d==="Profile"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"20px",color:"var(--primary-color)"},children:n("profile")}),e.jsxs("form",{onSubmit:m=>m.preventDefault(),children:[e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"var(--text-secondary)"},children:"Name"}),e.jsx("input",{type:"text",value:k,onChange:m=>j(m.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"var(--text-secondary)"},children:"Email"}),e.jsx("input",{type:"email",value:x,disabled:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-secondary)",opacity:.7}})]}),e.jsx("button",{style:{padding:"8px 16px",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"20px"},children:"Save Profile"})]}),e.jsx("hr",{style:{border:"0",borderTop:"1px solid var(--border-color)",margin:"20px 0"}}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h4",{style:{marginBottom:"15px",color:"var(--text-primary)"},children:"Security"}),e.jsx("button",{onClick:()=>{l(),o&&o()},style:{padding:"8px 16px",background:"transparent",border:"1px solid var(--primary-color)",color:"var(--primary-color)",borderRadius:"4px",cursor:"pointer"},children:n("changePassword")})]})]}),d==="General"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"20px",color:"var(--primary-color)"},children:n("general")}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px",background:"var(--bg-primary)",borderRadius:"8px"},children:[e.jsx("span",{children:n("theme")}),e.jsx(Z,{})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px",background:"var(--bg-primary)",borderRadius:"8px"},children:[e.jsx("span",{children:n("language")}),e.jsxs("select",{value:a,onChange:m=>i(m.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",cursor:"pointer"},children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"am",children:"·ä†·àõ·à≠·äõ (Amharic)"})]})]})]})]})]})]})})}function We({onClose:l,onSave:s,onLogout:t}){const{t:o,language:n,changeLanguage:a}=L();c.useState(()=>{console.log("AdminConfigurationModal Loaded - Version 3 (Simple Button + Translations)")},[]);const[i,d]=c.useState("general"),[v,k]=c.useState({siteName:"Amharic Sign Language Translate",maintenanceMode:!1,allowRegistration:!0,emailNotifications:!0,autoBackup:!1}),j=r=>{const{name:m,value:R,type:f,checked:b}=r.target;k(w=>({...w,[m]:f==="checkbox"?b:R}))},x=()=>{console.log("Saving config:",v),s&&s(v),l()};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content admin-config-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"admin-modal-header",children:[e.jsx("h2",{children:o("systemSettings")||"System Configuration"}),e.jsx("button",{className:"admin-close-button",onClick:l,children:"√ó"})]}),e.jsxs("div",{className:"admin-modal-body",children:[e.jsxs("div",{className:"admin-tabs",children:[e.jsx("button",{className:`tab-btn ${i==="general"?"active":""}`,onClick:()=>d("general"),children:o("general")||"General"}),e.jsx("button",{className:`tab-btn ${i==="features"?"active":""}`,onClick:()=>d("features"),children:o("features")||"Features"}),e.jsx("button",{className:`tab-btn ${i==="security"?"active":""}`,onClick:()=>d("security"),children:o("security")||"Security"}),e.jsx("button",{className:`tab-btn ${i==="preferences"?"active":""}`,onClick:()=>d("preferences"),children:o("preferences")||"Preferences"})]}),e.jsxs("div",{className:"tab-content",children:[i==="general"&&e.jsx("div",{className:"config-section",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("siteName")||"Site Name"}),e.jsx("input",{type:"text",name:"siteName",value:v.siteName,onChange:j,className:"modal-input"})]})}),i==="features"&&e.jsxs("div",{className:"config-section",children:[e.jsxs("div",{className:"toggle-group",children:[e.jsxs("label",{className:"toggle-label",children:[e.jsx("span",{children:o("maintenanceMode")||"Maintenance Mode"}),e.jsx("input",{type:"checkbox",name:"maintenanceMode",checked:v.maintenanceMode,onChange:j}),e.jsx("span",{className:"toggle-switch"})]}),e.jsx("p",{className:"toggle-desc",children:o("maintenanceModeDesc")||"Put the site in maintenance mode. Only admins can access."})]}),e.jsx("div",{className:"toggle-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("span",{children:o("allowRegistration")||"Allow User Registration"}),e.jsx("input",{type:"checkbox",name:"allowRegistration",checked:v.allowRegistration,onChange:j}),e.jsx("span",{className:"toggle-switch"})]})})]}),i==="security"&&e.jsxs("div",{className:"config-section",children:[e.jsx("div",{className:"toggle-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("span",{children:o("emailNotifications")||"Email Notifications"}),e.jsx("input",{type:"checkbox",name:"emailNotifications",checked:v.emailNotifications,onChange:j}),e.jsx("span",{className:"toggle-switch"})]})}),e.jsx("div",{className:"toggle-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("span",{children:o("autoBackup")||"Auto Backup System"}),e.jsx("input",{type:"checkbox",name:"autoBackup",checked:v.autoBackup,onChange:j}),e.jsx("span",{className:"toggle-switch"})]})})]}),i==="preferences"&&e.jsxs("div",{className:"config-section",children:[e.jsxs("div",{className:"toggle-group",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:500,color:"var(--text-primary)"},children:o("theme")||"Application Theme"}),e.jsx(Z,{})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("language")||"Language"}),e.jsxs("select",{value:n,onChange:r=>a(r.target.value),className:"modal-select",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"am",children:"·ä†·àõ·à≠·äõ (Amharic)"})]})]})]})]})]}),e.jsxs("div",{className:"modal-footer",style:{justifyContent:"space-between"},children:[e.jsxs("button",{className:"admin-btn-danger",onClick:()=>{l(),t&&t()},style:{background:"none",color:"#ff4d4f",border:"none",padding:"10px 0",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[e.jsx("span",{children:"üö™"})," ",o("signOut")||"Sign Out"]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{className:"cancel-btn",onClick:l,children:o("close")||"Close"}),e.jsx("button",{className:"save-btn",onClick:x,children:o("save")||"Save Changes"})]})]})]})})}function _e({onClose:l,onSave:s,initialData:t=null}){const{t:o}=L(),[n,a]=c.useState({name:"",description:"",permissions:[],...t}),[i,d]=c.useState(!1),[v,k]=c.useState(null),j=r=>{const{name:m,value:R}=r.target;a(f=>({...f,[m]:R}))},x=async()=>{d(!0),k(null);try{if(t&&(t._id||t.id)){const r={id:t._id||t.id,...n};await E.updateRole(r)}else await E.createRole(n);s&&s(n),l()}catch(r){console.error("Failed to save role:",r),k(r.message||"Failed to save role")}finally{d(!1)}};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content admin-config-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"admin-modal-header",children:[e.jsx("h2",{children:t?o("editRole")||"Edit Role":o("addRole")||"Add Role"}),e.jsx("button",{className:"admin-close-button",onClick:l,children:"√ó"})]}),e.jsx("div",{className:"admin-modal-body",children:e.jsxs("div",{className:"config-section",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("roleName")||"Role Name"}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:j,className:"modal-input",placeholder:"e.g. Moderator"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("roleDescription")||"Description"}),e.jsx("textarea",{name:"description",value:n.description,onChange:j,className:"modal-input",rows:"3",style:{resize:"vertical"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:o("permissions")||"Permissions"}),e.jsx("div",{style:{padding:"10px",background:"var(--bg-primary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"13px",margin:0},children:"Basic permissions selected by default."})})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"cancel-btn",onClick:l,children:o("close")||"Close"}),e.jsx("button",{className:"save-btn",onClick:x,disabled:i,children:i?o("saving")||"Saving...":t?o("updateRole")||"Update Role":o("createRole")||"Create Role"}),v&&e.jsx("p",{style:{color:"red",marginTop:"10px",width:"100%",textAlign:"center"},children:v})]})]})})}function He({onClose:l}){const{t:s}=L(),[t,o]=c.useState(""),[n,a]=c.useState([]),[i,d]=c.useState(!0),[v,k]=c.useState(1),[j,x]=c.useState(!0),[r,m]=c.useState(null),[R,f]=c.useState(null),b=10;c.useEffect(()=>{(async()=>{try{const g=await E.getRoles(),A=(Array.isArray(g)?g:g.data||[]).find(P=>P.name.toLowerCase()==="user");A?m(A.id||A._id):f("User role not found")}catch(g){console.error("Failed to fetch roles:",g),f("Failed to initialize: could not load roles")}})()},[]);const w=p=>p?(Array.isArray(p)?p:p.data||[]).map(h=>{var A,P,U,C,M;return{id:((A=h.account)==null?void 0:A.account_id)||h.accountInfo_id||Math.random(),accountId:(P=h.account)==null?void 0:P.account_id,name:`${h.firstName||""} ${h.lastName||""}`.trim()||"Unknown User",email:((U=h.account)==null?void 0:U.email)||"N/A",role:"User",roleId:(C=h.account)==null?void 0:C.role,status:((M=h.account)==null?void 0:M.status)||"active",...h}}):[];c.useEffect(()=>{if(!r)return;(async()=>{d(!0);try{const h=(await E.getAccounts(b,r,1)).data||{},A=w(h);a(A),k(1),x(A.length===b),console.log("Fetched users:",A)}catch(g){console.error("Failed to fetch users:",g),f("Failed to load users")}finally{d(!1)}})()},[r]);const S=async()=>{if(!(i||!j||!r)){d(!0);try{const p=v+1,h=(await E.getAccounts(b,r,p)).data||{},A=w(h);A.length===0?x(!1):(a(P=>{const U=new Set(P.map(M=>M.id)),C=A.filter(M=>!U.has(M.id));return[...P,...C]}),k(p),x(A.length===b))}catch(p){console.error("Failed to load more users:",p)}finally{d(!1)}}},y=async p=>{const g=p.accountId||p.id;if(!g||typeof g!="string"){alert("Error: Invalid Account ID");return}try{await E.toggleAccountStatus(g),a(h=>h.map(A=>A.id===p.id?{...A,status:A.status==="active"?"inactive":"active"}:A))}catch(h){console.error("Failed to toggle status:",h),alert(`Failed to toggle status: ${h.message||"Unknown error"}`)}},T=p=>{const{scrollTop:g,scrollHeight:h,clientHeight:A}=p.target;h-g<=A+50&&S()},u=n.filter(p=>{var g,h;return(((g=p.name)==null?void 0:g.toLowerCase())||"").includes(t.toLowerCase())||(((h=p.email)==null?void 0:h.toLowerCase())||"").includes(t.toLowerCase())}),N=u;return!t&&u.length>3,e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content premium-modal",onClick:p=>p.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:s("manageUsers")||"Manage Users"}),e.jsx("button",{className:"close-button",onClick:l,children:"√ó"})]}),e.jsxs("div",{className:"modal-body",onScroll:T,children:[e.jsx("div",{className:"toolbar",children:e.jsxs("div",{className:"search-bar",children:[e.jsx("span",{className:"search-icon",children:"üîç"}),e.jsx("input",{type:"text",className:"search-input",placeholder:s("searchUsers")||"Search users...",value:t,onChange:p=>o(p.target.value)})]})}),R&&e.jsx("div",{className:"error-message",style:{color:"red"},children:R}),i&&n.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"var(--text-secondary)"},children:[e.jsx("div",{className:"spinner",style:{display:"inline-block",width:"40px",height:"40px",border:"3px solid rgba(var(--primary-color-rgb), 0.1)",borderRadius:"50%",borderTopColor:"var(--primary-color)",animation:"spin 1s ease-in-out infinite",marginBottom:"16px"}}),e.jsx("div",{children:s("loading")||"Loading users..."})]}),e.jsx("div",{className:"cards-grid",children:!i&&N.length===0?e.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üë•"}),e.jsx("p",{children:s("noUsersFound")||"No users found matching your search."})]}):N.map((p,g)=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-card-header",children:[e.jsx("div",{className:"avatar",style:{background:g%2===0?"#eff6ff":"#f5f3ff",color:g%2===0?"#1e40af":"#5b21b6"},children:p.name?p.name.charAt(0).toUpperCase():"U"}),e.jsxs("div",{className:"user-info",children:[e.jsx("h3",{children:p.name}),e.jsx("p",{children:p.email})]})]}),e.jsxs("div",{className:"user-card-actions",children:[e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("span",{className:`badge ${p.status==="active"?"badge-active":"badge-inactive"}`,children:p.status||"Active"}),e.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"var(--text-secondary)",background:"var(--bg-secondary)",padding:"4px 8px",borderRadius:"8px"},children:"USER"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>y(p),className:"icon-btn",title:p.status==="active"?s("deactivate")||"Deactivate":s("activate")||"Activate",style:{opacity:p.status==="active"?1:.6},children:p.status==="active"?"‚è∏Ô∏è":"‚ñ∂Ô∏è"}),e.jsx("button",{className:"icon-btn delete",title:s("delete")||"Delete",children:"üóëÔ∏è"})]})]})]},p.id))})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"cancel-btn",onClick:l,children:s("close")||"Close"})})]})})}function Ve({onClose:l,onEditRole:s,onAddRole:t}){const{t:o}=L(),[n,a]=c.useState([]),[i,d]=c.useState(!0),[v,k]=c.useState(null),j=async()=>{d(!0);try{const r=await E.getRoles();console.log("Roles API Request:",r);let m=[];Array.isArray(r)?m=r:r&&Array.isArray(r.data)?m=r.data:r&&Array.isArray(r.roles)?m=r.roles:(console.warn("Unexpected roles response format:",r),m=[]);const R=m.map(f=>({id:f.id||f._id||Math.random(),name:f.name||f.roleName||f.title||"Unknown Role",description:f.description||f.desc||"",original:f}));a(R),k(null)}catch(r){console.error("Failed to fetch roles:",r),k(`Failed to load roles: ${r.message||"Unknown error"}`)}finally{d(!1)}};c.useEffect(()=>{j()},[]);const x=async(r,m)=>{if(window.confirm(`Are you sure you want to delete the role "${m}"?`))try{await E.deleteRole(r),j()}catch(R){console.error("Failed to delete role:",R),alert("Failed to delete role: "+(R.message||"Unknown error"))}};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content premium-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:o("manageRoles")||"Manage Roles"}),e.jsx("button",{className:"close-button",onClick:l,children:"√ó"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"toolbar",style:{justifyContent:"flex-end"},children:e.jsxs("button",{className:"btn btn-primary",onClick:t,children:[e.jsx("span",{children:"‚ûï"})," ",o("addNewRole")||"Add New Role"]})}),v&&e.jsx("div",{className:"error-message",style:{color:"red",marginBottom:"16px"},children:v}),i?e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"var(--text-secondary)"},children:[e.jsx("div",{className:"spinner",style:{display:"inline-block",width:"40px",height:"40px",border:"3px solid rgba(var(--primary-color-rgb), 0.1)",borderRadius:"50%",borderTopColor:"var(--primary-color)",animation:"spin 1s ease-in-out infinite",marginBottom:"16px"}}),e.jsx("div",{children:o("loading")||"Loading roles..."})]}):e.jsx("div",{className:"cards-grid",children:n.length===0?e.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üõ°Ô∏è"}),e.jsx("p",{children:o("noRolesFound")||"No roles found."})]}):n.map((r,m)=>e.jsxs("div",{className:"user-card role-card",children:[e.jsxs("div",{className:"user-card-header",children:[e.jsx("div",{className:"avatar",style:{background:"#fff7ed",color:"#c2410c"},children:"üõ°Ô∏è"}),e.jsxs("div",{className:"user-info",children:[e.jsx("h3",{children:r.name}),e.jsx("p",{style:{fontSize:"12px",opacity:.8},children:r.description?r.description.length>50?r.description.substring(0,50)+"...":r.description:"No description"})]})]}),e.jsxs("div",{className:"user-card-actions",children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"var(--text-secondary)",background:"var(--bg-secondary)",padding:"4px 8px",borderRadius:"8px"},children:"ROLE"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{className:"icon-btn",onClick:()=>{l(),s(r.original||r)},title:o("edit")||"Edit",children:"‚úèÔ∏è"}),e.jsx("button",{className:"icon-btn delete",onClick:()=>x(r.id,r.name),title:o("delete")||"Delete",children:"üóëÔ∏è"})]})]})]},r.id))})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary",onClick:l,children:o("close")||"Close"})})]})})}function Je({onClose:l}){const{t:s}=L(),[t,o]=c.useState([]),[n,a]=c.useState(!1),[i,d]=c.useState(1),[v,k]=c.useState(!0),[j,x]=c.useState(null),[r,m]=c.useState(null),R=10;c.useEffect(()=>{(async()=>{try{const T=await E.getRoles(),N=(Array.isArray(T)?T:T.data||[]).find(p=>p.name.toLowerCase()==="admin");N?x(N.id||N._id):m("Admin role not found")}catch(T){console.error("Failed to fetch roles:",T),m("Failed to initialize: could not load roles")}})()},[]);const f=y=>y?(Array.isArray(y)?y:y.data||[]).map(u=>{var N,p,g,h,A;return{id:((N=u.account)==null?void 0:N.account_id)||u.accountInfo_id||Math.random(),accountId:(p=u.account)==null?void 0:p.account_id,name:`${u.firstName||""} ${u.lastName||""}`.trim()||"Unknown Admin",email:((g=u.account)==null?void 0:g.email)||"N/A",role:"Admin",roleId:(h=u.account)==null?void 0:h.role,status:((A=u.account)==null?void 0:A.status)||"active",...u}}):[];c.useEffect(()=>{if(!j)return;(async()=>{a(!0);try{const u=(await E.getAccounts(R,j,1)).data||{},N=f(u);o(N),d(1),k(N.length===R)}catch(T){console.error("Failed to fetch admins:",T),m("Failed to load admins")}finally{a(!1)}})()},[j]);const b=async()=>{if(!(n||!v||!j)){a(!0);try{const y=i+1,u=(await E.getAccounts(R,j,y)).data||{},N=f(u);N.length===0?k(!1):(o(p=>{const g=new Set(p.map(A=>A.id)),h=N.filter(A=>!g.has(A.id));return[...p,...h]}),d(y),k(N.length===R))}catch(y){console.error("Failed to load more admins:",y)}finally{a(!1)}}},w=async y=>{const T=y.accountId||y.id;if(!T){alert("Error: Invalid Account ID");return}try{await E.toggleAccountStatus(T),o(u=>u.map(N=>N.id===y.id?{...N,status:N.status==="active"?"inactive":"active"}:N))}catch(u){console.error("Failed to toggle admin status:",u),alert(`Failed to toggle status: ${u.message||"Unknown error"}`)}},S=y=>{const{scrollTop:T,scrollHeight:u,clientHeight:N}=y.target;u-T<=N+50&&b()};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content premium-modal",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:s("manageAdmin")||"Manage Admins"}),e.jsx("button",{className:"close-button",onClick:l,children:"√ó"})]}),e.jsxs("div",{className:"modal-body",onScroll:S,children:[r&&e.jsx("div",{className:"error-message",style:{color:"red"},children:r}),n&&t.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"var(--text-secondary)"},children:[e.jsx("div",{className:"spinner",style:{display:"inline-block",width:"40px",height:"40px",border:"3px solid rgba(var(--primary-color-rgb), 0.1)",borderRadius:"50%",borderTopColor:"var(--primary-color)",animation:"spin 1s ease-in-out infinite",marginBottom:"16px"}}),e.jsx("div",{children:s("loading")||"Loading admins..."})]}),e.jsx("div",{className:"cards-grid",children:t.map((y,T)=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-card-header",children:[e.jsx("div",{className:"avatar",style:{background:"#ecfdf5",color:"#047857"},children:y.name?y.name.charAt(0).toUpperCase():"A"}),e.jsxs("div",{className:"user-info",children:[e.jsx("h3",{children:y.name}),e.jsx("p",{children:y.email})]})]}),e.jsxs("div",{className:"user-card-actions",children:[e.jsx("span",{className:`badge ${y.status==="active"?"badge-active":"badge-inactive"}`,children:y.status||"Active"}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"var(--text-secondary)",background:"var(--bg-secondary)",padding:"4px 8px",borderRadius:"8px"},children:"ADMIN"}),e.jsx("button",{onClick:u=>{u.stopPropagation(),w(y)},className:"icon-btn",title:y.status==="active"?s("deactivate")||"Deactivate":s("activate")||"Activate",style:{opacity:y.status==="active"?1:.6},children:y.status==="active"?"‚è∏Ô∏è":"‚ñ∂Ô∏è"})]})]})]},y.id))})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary",onClick:l,children:s("close")||"Close"})})]})})}function Ge({onClose:l}){const{t:s}=L();return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content admin-config-modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"admin-modal-header",children:[e.jsx("h2",{children:s("viewReports")||"View Reports"}),e.jsx("button",{className:"admin-close-button",onClick:l,children:"√ó"})]}),e.jsxs("div",{className:"admin-modal-body",children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{style:{background:"var(--bg-primary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",color:"var(--primary-color)",marginBottom:"10px"},children:"üìä"}),e.jsx("h3",{style:{margin:"0 0 10px 0",color:"var(--text-primary)"},children:"User Growth"}),e.jsx("div",{style:{height:"100px",background:"var(--bg-secondary)",borderRadius:"4px",display:"flex",alignItems:"end",justifyContent:"center",paddingBottom:"10px",color:"var(--text-secondary)"},children:"[Chart Placeholder]"})]}),e.jsxs("div",{style:{background:"var(--bg-primary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",color:"#4caf50",marginBottom:"10px"},children:"üåç"}),e.jsx("h3",{style:{margin:"0 0 10px 0",color:"var(--text-primary)"},children:"Traffic"}),e.jsx("div",{style:{height:"100px",background:"var(--bg-secondary)",borderRadius:"4px",display:"flex",alignItems:"end",justifyContent:"center",paddingBottom:"10px",color:"var(--text-secondary)"},children:"[Map Placeholder]"})]})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"var(--bg-primary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",color:"var(--text-primary)"},children:"Monthly Summary"}),e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:["Total translations increased by ",e.jsx("strong",{children:"15%"})," this month. User engagement is at an all-time high."]})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"cancel-btn",onClick:l,children:s("close")||"Close"})})]})})}function Ye({onClose:l}){const{t:s}=L(),t=[{id:1,action:"User Login",user:"abebe@example.com",time:"2 mins ago",icon:"üîë"},{id:2,action:"New Translation",user:"guest_user",time:"5 mins ago",icon:"üî§"},{id:3,action:"System Backup",user:"System",time:"1 hour ago",icon:"üíæ"},{id:4,action:"Failed Login Attempt",user:"unknown",time:"2 hours ago",icon:"‚ö†Ô∏è"}];return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content admin-config-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"admin-modal-header",children:[e.jsx("h2",{children:s("activityLogs")||"Activity Logs"}),e.jsx("button",{className:"admin-close-button",onClick:l,children:"√ó"})]}),e.jsx("div",{className:"admin-modal-body",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:t.map((o,n)=>e.jsxs("div",{style:{padding:"15px",borderBottom:n<t.length-1?"1px solid var(--border-color)":"none",display:"flex",gap:"15px",alignItems:"start"},children:[e.jsx("span",{style:{fontSize:"18px"},children:o.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{fontWeight:500,color:"var(--text-primary)"},children:o.action}),e.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:o.time})]}),e.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["User: ",e.jsx("span",{style:{color:"var(--primary-color)"},children:o.user})]})]})]},o.id))})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"cancel-btn",onClick:l,children:s("close")||"Close"})})]})})}function Ke({onClose:l}){const{t:s}=L();return e.jsx(W,{title:s("aboutTitle")||"About EthSLT",onClose:l,children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",lineHeight:"1.6"},children:[e.jsx("h2",{style:{color:"var(--primary-color)",marginBottom:"20px",textAlign:"center"},children:s("aboutHeader")}),e.jsx("p",{style:{marginBottom:"15px",textAlign:"justify"},children:s("aboutDescription")})]})})}function Xe({onClose:l}){const{t:s}=L();return e.jsx(W,{title:s("historyTitle")||"Translation History",onClose:l,children:e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"üìú"}),e.jsx("h3",{children:s("noHistory")}),e.jsx("p",{children:s("historyDesc")})]})})}function Ze({onClose:l}){const{t:s}=L();return e.jsx(W,{title:s("subscriptionTitle")||"Subscription",onClose:l,children:e.jsxs("div",{style:{padding:"20px",display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center"},children:[e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"20px",width:"250px",textAlign:"center",background:"var(--bg-primary)"},children:[e.jsx("h3",{children:s("freeTier")}),e.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",margin:"15px 0"},children:["$0",e.jsx("span",{style:{fontSize:"14px"},children:s("months")})]}),e.jsxs("ul",{style:{listStyle:"none",textAlign:"left",marginBottom:"20px",color:"var(--text-secondary)"},children:[e.jsxs("li",{children:["‚úì ",s("basicTrans")]}),e.jsxs("li",{children:["‚úì ",s("requests")]}),e.jsxs("li",{children:["‚úì ",s("standardSupport")]})]}),e.jsx("button",{disabled:!0,style:{width:"100%",padding:"10px",background:"var(--text-secondary)",color:"white",border:"none",borderRadius:"4px"},children:s("currentPlan")})]}),e.jsxs("div",{style:{border:"1px solid var(--primary-color)",borderRadius:"8px",padding:"20px",width:"250px",textAlign:"center",background:"var(--bg-secondary)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[e.jsx("h3",{style:{color:"var(--primary-color)"},children:s("proTier")}),e.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",margin:"15px 0"},children:["$9.99",e.jsx("span",{style:{fontSize:"14px"},children:s("months")})]}),e.jsxs("ul",{style:{listStyle:"none",textAlign:"left",marginBottom:"20px",color:"var(--text-primary)"},children:[e.jsxs("li",{children:["‚úì ",s("unlimitedTrans")]}),e.jsxs("li",{children:["‚úì ",s("apiAccess")]}),e.jsxs("li",{children:["‚úì ",s("prioritySupport")]})]}),e.jsx("button",{style:{width:"100%",padding:"10px",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:s("upgrade")})]})]})})}function Qe({onClose:l,userEmail:s}){const{t}=L(),[o,n]=c.useState(1),[a,i]=c.useState(""),[d,v]=c.useState(["","","","","",""]),[k,j]=c.useState(""),[x,r]=c.useState(""),[m,R]=c.useState(""),[f,b]=c.useState(""),[w,S]=c.useState(!1),y=h=>{if(h.preventDefault(),b(""),!a){b("Please enter your current password");return}n(2),T()},T=async()=>{S(!0),R(""),b("");try{await E.resendOTP(s),R(t("otpSent"))}catch(h){console.error(h),b(h.message||"Failed to send OTP")}finally{S(!1)}},u=(h,A)=>{if(isNaN(h.value))return!1;const P=[...d];P[A]=h.value,v(P),h.nextSibling&&h.value!==""&&h.nextSibling.focus()},N=(h,A)=>{h.key==="Backspace"&&!d[A]&&A>0&&h.target.parentNode.children[A-1].focus()},p=async h=>{h.preventDefault(),b("");const A=d.join("");if(A.length!==6){b("Please enter the full 6-digit code");return}S(!0);try{await E.verifyOTP(s,A),n(3),R("")}catch(P){console.error(P),b(P.message||"Invalid OTP")}finally{S(!1)}},g=async h=>{if(h.preventDefault(),b(""),R(""),k!==x){b("Passwords do not match");return}if(k.length<6){b("Password must be at least 6 characters long");return}S(!0);try{const A=d.join("");await E.changePassword(s,A,a,k,x),R(t("passwordChanged")),setTimeout(()=>{l()},2e3)}catch(A){console.error(A),b(A.message||"Failed to change password")}finally{S(!1)}};return e.jsx(W,{title:t("changePassword"),onClose:l,children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px",gap:"10px"},children:[1,2,3].map(h=>e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:o>=h?"var(--primary-color)":"var(--border-color)",transition:"background 0.3s"}},h))}),o===1&&e.jsxs("form",{onSubmit:y,children:[e.jsx("p",{style:{marginBottom:"15px",color:"var(--text-secondary)"},children:t("enterOldPassword")}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx("input",{type:"password",placeholder:t("currentPassword"),value:a,onChange:h=>i(h.target.value),autoFocus:!0,required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px"}})}),e.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:t("next")})]}),o===2&&e.jsxs("form",{onSubmit:p,children:[e.jsxs("p",{style:{marginBottom:"15px",color:"var(--text-secondary)",textAlign:"center"},children:[t("enterOtp")," ",e.jsx("br",{}),e.jsx("strong",{children:s})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"20px"},children:d.map((h,A)=>e.jsx("input",{type:"text",maxLength:"1",value:h,onChange:P=>u(P.target,A),onKeyDown:P=>N(P,A),onFocus:P=>P.target.select(),style:{width:"40px",height:"50px",fontSize:"20px",textAlign:"center",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"}},A))}),e.jsx("button",{type:"submit",disabled:w,style:{width:"100%",padding:"12px",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"16px",opacity:w?.7:1},children:t(w?"verifying":"verifyCode")}),e.jsx("div",{style:{marginTop:"15px",textAlign:"center"},children:e.jsx("button",{type:"button",onClick:T,disabled:w,style:{background:"none",border:"none",color:"var(--primary-color)",textDecoration:"underline",cursor:"pointer",fontSize:"14px"},children:t("resend")})})]}),o===3&&e.jsxs("form",{onSubmit:g,children:[e.jsx("p",{style:{marginBottom:"15px",color:"var(--text-secondary)"},children:t("enterNewPassword")}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx("input",{type:"password",placeholder:t("newPassword"),value:k,onChange:h=>j(h.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px"}})}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("input",{type:"password",placeholder:t("confirmPassword"),value:x,onChange:h=>r(h.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px"}})}),e.jsx("button",{type:"submit",disabled:w,style:{width:"100%",padding:"12px",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"16px",opacity:w?.7:1},children:t(w?"updating":"changePassword")})]}),f&&e.jsx("p",{style:{marginTop:"15px",color:"#ef4444",textAlign:"center",fontSize:"14px"},children:f}),m&&!f&&e.jsx("p",{style:{marginTop:"15px",color:"#10b981",textAlign:"center",fontSize:"14px"},children:m})]})})}function es({onClose:l,onSwitchToLogin:s}){const{t}=L(),[o,n]=c.useState(1),[a,i]=c.useState(""),[d,v]=c.useState(""),[k,j]=c.useState(""),[x,r]=c.useState(""),[m,R]=c.useState(""),[f,b]=c.useState(""),[w,S]=c.useState(""),[y,T]=c.useState(!1),u=async p=>{var g,h,A;if(p.preventDefault(),!a){b(t("emailRequired"));return}T(!0),b("");try{const P=await E.initiatePasswordReset(a);console.log("Reset initiated:",P),(P.accountId||(g=P.data)!=null&&g.accountId)&&v(P.accountId||((h=P.data)==null?void 0:h.accountId)),n(2),S(t("checkEmailForToken")||"Check your email for the reset token")}catch(P){b(((A=P.data)==null?void 0:A.message)||P.message||"Failed to request reset")}finally{T(!1)}},N=async p=>{var g;if(p.preventDefault(),!k||!x||!m){b(t("fillAllFields"));return}if(x!==m){b(t("passwordMatch"));return}T(!0),b("");try{await E.resetPassword(d,x,k),S(t("passwordResetSuccess")||"Password reset successfully"),setTimeout(()=>{s()},2e3)}catch(h){b(((g=h.data)==null?void 0:g.message)||h.message||"Failed to reset password")}finally{T(!1)}};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content",onClick:p=>p.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:l,children:"‚úï"}),e.jsx("h2",{className:"modal-title",children:t("forgotPassword")}),f&&e.jsx("div",{className:"error-message",style:{textAlign:"center",marginBottom:"20px"},children:f}),w&&e.jsx("div",{className:"success-message",style:{textAlign:"center",marginBottom:"20px",color:"green"},children:w}),o===1?e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("email")}),e.jsx("input",{type:"email",value:a,onChange:p=>i(p.target.value),placeholder:t("enterEmail"),disabled:y,required:!0})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:t(y?"sending":"sendResetLink")})]}):e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("token")}),e.jsx("input",{type:"text",value:k,onChange:p=>j(p.target.value),placeholder:"Enter token from email",disabled:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("newPassword")}),e.jsx("input",{type:"password",value:x,onChange:p=>r(p.target.value),placeholder:t("enterNewPassword"),disabled:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:t("confirmPassword")}),e.jsx("input",{type:"password",value:m,onChange:p=>R(p.target.value),placeholder:t("confirmNewPassword"),disabled:y,required:!0})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:t(y?"resetting":"resetPassword")})]}),e.jsx("div",{style:{marginTop:"15px",textAlign:"center"},children:e.jsx("a",{href:"#",onClick:p=>{p.preventDefault(),s()},children:t("backToLogin")})})]})})}function ss(){const l=c.useRef();return c.useEffect(()=>{if(!l.current)return;const s=new he,t=new ge(75,window.innerWidth/window.innerHeight,.1,1e3),o=new pe({antialias:!0,alpha:!0});o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.current.appendChild(o.domElement);const n=()=>{const g=document.documentElement.getAttribute("data-theme")==="dark",h=g?"#64b5f6":"#1976d2",A=new H(h),P=new H(g?"#ffffff":"#bbdefb"),U=m.getAttribute("color");for(let C=0;C<a;C++){const M=A.clone().lerp(P,Math.random());U.setXYZ(C,M.r,M.g,M.b)}U.needsUpdate=!0},a=2500,i=new Float32Array(a*3),d=new Float32Array(a*3),v=new Float32Array(a),k=document.documentElement.getAttribute("data-theme")==="dark",j=k?"#64b5f6":"#1976d2",x=new H(j),r=new H(k?"#ffffff":"#bbdefb");for(let g=0;g<a;g++){i[g*3]=(Math.random()-.5)*15,i[g*3+1]=(Math.random()-.5)*15,i[g*3+2]=(Math.random()-.5)*15;const h=x.clone().lerp(r,Math.random());d[g*3]=h.r,d[g*3+1]=h.g,d[g*3+2]=h.b,v[g]=Math.random()*.5+.5}const m=new xe;m.setAttribute("position",new Q(i,3)),m.setAttribute("color",new Q(d,3));const R=new fe({size:.02,vertexColors:!0,transparent:!0,opacity:.7,blending:ye,sizeAttenuation:!0}),f=new ve(m,R);s.add(f),t.position.z=4;let b=0,w=0;const S=g=>{b=(g.clientX/window.innerWidth-.5)*.5,w=(g.clientY/window.innerHeight-.5)*.5};window.addEventListener("mousemove",S);let y=new je,T;const u=()=>{T=requestAnimationFrame(u);const g=y.getElapsedTime();f.rotation.y=g*.03,f.rotation.x=g*.01,t.position.x+=(b-t.position.x)*.05,t.position.y+=(-w-t.position.y)*.05,t.lookAt(s.position),o.render(s,t)};u();const N=()=>{t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",N);const p=new MutationObserver(g=>{g.forEach(h=>{h.attributeName==="data-theme"&&n()})});return p.observe(document.documentElement,{attributes:!0}),()=>{window.removeEventListener("resize",N),window.removeEventListener("mousemove",S),p.disconnect(),cancelAnimationFrame(T),l.current&&o.domElement.parentNode===l.current&&l.current.removeChild(o.domElement),m.dispose(),R.dispose(),o.dispose()}},[]),e.jsx("div",{ref:l,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}})}function ts(){const{language:l,changeLanguage:s}=L(),t=()=>{s(l==="en"?"am":"en")};return e.jsx("button",{className:"language-toggle",onClick:t,title:l==="en"?"Switch to Amharic":"Switch to English",children:e.jsx("span",{className:"language-text",children:l==="en"?"EN":"·ä†·àõ"})})}function os(){const{isLoggedIn:l,user:s,loading:t}=q(),{t:o}=L(),n=K(),[a,i]=c.useState("login"),[d,v]=c.useState("");c.useEffect(()=>{l&&!t&&((s==null?void 0:s.role)==="user"?n("/"):n("/admin"))},[l,t,s,n]);const k=(r,m,R)=>{R!=null&&R.user},j=r=>{v(r),i("otp")},x=(r,m)=>{alert(o("verificationSuccess")||"Email verified successfully. Please login."),i("login")};return t?e.jsx("div",{className:"login-page-loading",children:"Loading..."}):e.jsxs("div",{className:"login-page-container",children:[e.jsx(ss,{}),e.jsxs("div",{className:"login-page-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"company-logo",children:"‚úã"}),e.jsx("div",{className:"company-name",children:"ETHSL-LIVE"})]}),e.jsxs("div",{className:"header-controls",children:[e.jsx(ts,{}),e.jsx(Z,{})]})]}),e.jsxs("div",{className:"auth-content-wrapper",children:[a==="login"&&e.jsx(qe,{onClose:()=>{},onLogin:k,onRegisterClick:()=>i("register"),onForgotPasswordClick:()=>i("forgot")}),a==="register"&&e.jsx(Be,{onClose:()=>i("login"),onRegister:r=>j(r),onSwitchToLogin:()=>i("login")}),a==="otp"&&e.jsx(De,{onClose:()=>i("register"),onVerify:x,email:d,onSwitchToLogin:()=>i("login")}),a==="forgot"&&e.jsx(es,{onClose:()=>i("login"),onSwitchToLogin:()=>i("login")})]})]})}function ns(){const{isLoggedIn:l,user:s,loading:t,logout:o}=q(),{state:n,actions:a}=X(),{showFeedbackModal:i,activeModal:d}=n,v=r=>{a.setShowFeedbackModal(!1)},[k,j]=c.useState(null);c.useEffect(()=>{localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},[]);const x=(s==null?void 0:s.email)||"";return e.jsxs("div",{className:"App",children:[e.jsxs(ue,{children:[e.jsx(D,{path:"/login",element:e.jsx(os,{})}),e.jsx(D,{path:"/",element:l?(s==null?void 0:s.role)!=="user"?e.jsx(z,{to:"/admin",replace:!0}):e.jsx(Oe,{}):e.jsx(z,{to:"/login",replace:!0})}),e.jsx(D,{element:e.jsx(Fe,{requiredRole:"admin",redirectPath:"/login"}),children:e.jsx(D,{path:"/admin",element:e.jsx(Ue,{})})}),e.jsx(D,{path:"*",element:e.jsx(z,{to:"/",replace:!0})})]}),i&&e.jsx($e,{onClose:()=>a.setShowFeedbackModal(!1),onSubmit:v,userEmail:x}),d==="Settings"&&e.jsx(ze,{onClose:()=>a.setActiveModal(null),userData:s||{email:x},onChangePassword:()=>a.setActiveModal("ChangePassword")}),d==="About"&&e.jsx(Ke,{onClose:()=>a.setActiveModal(null)}),d==="History"&&e.jsx(Xe,{onClose:()=>a.setActiveModal(null)}),d==="Subscription"&&e.jsx(Ze,{onClose:()=>a.setActiveModal(null)}),d==="ChangePassword"&&e.jsx(Qe,{onClose:()=>a.setActiveModal(null),userEmail:x}),d==="AdminSettings"&&e.jsx(We,{onClose:()=>a.setActiveModal(null),onSave:r=>{console.log("Admin config saved:",r),a.setActiveModal(null)},onLogout:o}),d==="AddRole"&&e.jsx(_e,{initialData:k,onClose:()=>{a.setActiveModal("ManageRoles"),j(null)},onSave:r=>{console.log("Role saved:",r),a.setActiveModal("ManageRoles"),j(null)}}),d==="ManageRoles"&&e.jsx(Ve,{onClose:()=>a.setActiveModal(null),onAddRole:()=>{j(null),a.setActiveModal("AddRole")},onEditRole:r=>{j(r),a.setActiveModal("AddRole")}}),d==="ManageUsers"&&e.jsx(He,{onClose:()=>a.setActiveModal(null)}),d==="ManageAdmin"&&e.jsx(Je,{onClose:()=>a.setActiveModal(null)}),d==="ViewReports"&&e.jsx(Ge,{onClose:()=>a.setActiveModal(null)}),d==="ActivityLogs"&&e.jsx(Ye,{onClose:()=>a.setActiveModal(null)})]})}function as(){return e.jsx(de,{children:e.jsx(Le,{children:e.jsx(Ie,{children:e.jsx(ns,{})})})})}Y.createRoot(document.getElementById("root")).render(e.jsx(me.StrictMode,{children:e.jsx(Ce,{children:e.jsx(as,{})})}));
